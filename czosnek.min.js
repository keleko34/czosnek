var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(h,r,p){h!=Array.prototype&&h!=Object.prototype&&(h[r]=p.value)};$jscomp.getGlobal=function(h){return"undefined"!=typeof window&&window===h?h:"undefined"!=typeof global&&null!=global?global:h};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var h=0;return function(r){return $jscomp.SYMBOL_PREFIX+(r||"")+h++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var h=$jscomp.global.Symbol.iterator;h||(h=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[h]&&$jscomp.defineProperty(Array.prototype,h,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(h){var r=0;return $jscomp.iteratorPrototype(function(){return r<h.length?{done:!1,value:h[r++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(h){$jscomp.initSymbolIterator();h={next:h};h[$jscomp.global.Symbol.iterator]=function(){return this};return h};$jscomp.iteratorFromArray=function(h,r){$jscomp.initSymbolIterator();h instanceof String&&(h+="");var p=0,q={next:function(){if(p<h.length){var A=p++;return{value:r(A,h[A]),done:!1}}q.next=function(){return{done:!0,value:void 0}};return q.next()}};q[Symbol.iterator]=function(){return q};return q};
$jscomp.polyfill=function(h,r,p,q){if(r){p=$jscomp.global;h=h.split(".");for(q=0;q<h.length-1;q++){var A=h[q];A in p||(p[A]={});p=p[A]}h=h[h.length-1];q=p[h];r=r(q);r!=q&&null!=r&&$jscomp.defineProperty(p,h,{configurable:!0,writable:!0,value:r})}};$jscomp.polyfill("Array.prototype.keys",function(h){return h?h:function(){return $jscomp.iteratorFromArray(this,function(h){return h})}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(h){return h?h:function(){return $jscomp.iteratorFromArray(this,function(h,p){return p})}},"es8","es3");
window.czosnek=function(){function h(a,c,b){this.root=a;this.pointers=[];this.parent=c;this.maps=b;Object.defineProperties(this,{localmaps:q(c),subnodes:A(c)})}function r(a){this.key=a.key||(a.isFor?a.text.replace(X,""):a.text.replace(Y,""));this.type="innerHTML"===this.key?"insert":a.type;this.text=a.text;this.mapText=a.mapText;this.keyLength=a.keyLength||this.key.split(".").length;this.localKey=a.localKey||this.key.split(".").pop();var c;if(!(c=a.filters)){c=L(this.text);"string"===typeof c&&(c=
L(c));var b={filters:[],vmFilters:[],model:[],local:[],session:[]},f=0,n=c.length;for(f;f<n;f++){var k=c[f];k.match(Z)?b.vmFilters.push(k.replace(aa,"")):k.match(ba)?(-1!==k.indexOf("~")&&b.model.push(k.replace(H,"")),-1!==k.indexOf("+")&&b.local.push(k.replace(H,"")),-1!==k.indexOf("-")&&b.session.push(k.replace(H,""))):b.filters.push(k)}c=b}this.filters=c;this.forId=a.for_id;this.isPointer=a.isPointer;this.isDirty=void 0!==a.isDirty?a.isDirty:1!==this.mapText.length||"innerHTML"===this.key;this.listener=
a.listener;this.property=a.property;this.local=a.local;this.localAttr=a.localAttr;this.node=a.node;this.maps=a.maps;this.nodeMaps=a.nodeMaps;this.mapIndex=a.mapIndex;this.mapTextIndex=a.mapTextIndex;this.isAttr=a.isAttr;this.isFor=a.isFor;this.isStyle=a.isStyle;this.isInlineStyle=a.isInlineStyle;this.isEvent=void 0!==a.isEvent?a.isEvent:!!this.isAttr&&-1!==D.indexOf(this.localAttr);this.isInput=void 0!==a.isInput?a.isInput:"INPUT"===this.node.tagName;this.isRadio=void 0!==a.isRadio?a.isRadio:!!this.isInput&&
-1!==["radio","checkbox"].indexOf(this.node.type);this.forComponent=a.forComponent||(this.isFor?this.text.replace(ca,""):void 0);this.values=a.values||[];this.isStyle||Object.defineProperties(this,{localId:M("component-id",a.localId||a.local_id,this.node),nodeId:M("node-id",a.nodeId||a.local_id+"-"+a.node_id,this.node)})}function p(a,c,b,f){return{value:a,writable:!!c,enumerable:!!f,configurable:!!b}}function q(a){var c=[],b=a&&a.__czosnekExtensions__;return{get:function(){return c},set:function(a){c.push(a);
b&&(b.localmaps=a)},enumerable:!0,configurable:!0}}function A(a){var c=[],b=a&&a.__czosnekExtensions__;return{get:function(){return c},set:function(a){c.push(a);b&&(b.subnodes=a)},enumerable:!0,configurable:!0}}function M(a,c,b){var f=b.attributes;f[a]||b.setAttribute(a,c);return{get:function(){return f[a].value},set:function(b){f[a].value=b},enumerable:!0,configurable:!0}}function B(a){return a.split(da).filter(Boolean)}function L(a){return a.match(ea)?a.replace(fa,"").split(","):[]}function I(a){return-1!==
a.nodeName.indexOf("-")||a instanceof HTMLUnknownElement}function N(a,c,b){var f=[],n=c[0];var k=b||w();n.__czosnekExtensions__||Object.defineProperty(n,"__czosnekExtensions__",p(new h(n,parent,f)));var t=n.__czosnekExtensions__.localmaps;if(t&&t.length)for(n=0,k=t.length,n;n<k;n++){var g=f,l=new r(t[n]);l.maps=g;l.mapIndex=g.length;g.push(l)}else O(n,f,k);c=c[1];t=b||w();c.__czosnekExtensions__||Object.defineProperty(c,"__czosnekExtensions__",p(new h(c,parent,f)));O(c,f,t,w());return P(a,void 0,
f,b)}function Q(a){var c=document.createElement("div");c.innerHTML=z[a]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';if(1!==c.children.length)return console.error("ERR: Component must be wrapped in a single element,",c.children.length,"nodes in",a,Error().stack);c.children[0].setAttribute("root","");c.children[0].title=a;return c.children[0]}function w(){var a=new Uint8Array(8),c=a.length,b=0,f=0;for(b;b<c;b++)a[b]=Math.floor(99*Math.random()+1);a[6]=a[6]&15|64;a[8]=a[8]&
15|128;return[C[a[f++]],C[a[f++]],C[a[f++]],C[a[f++]],C[a[f++]],C[a[f++]],C[a[f++]],C[a[f++]]].join("")}function P(a,c,b,f){f=f||w();Object.defineProperty(a,"__czosnekExtensions__",p(new h(a,c,b)));switch(a.nodeType){case 3:a:{var n=f;if(a.textContent.match(v)){var k=a.textContent,t=a.__czosnekExtensions__,g=B(k),l=0,d=g.length,e=w();for(l;l<d;l++){var m=g[l];if(m.match(x))b.push(new r({local_id:n,node_id:n,mapIndex:b.length,mapTextIndex:l,text:m,mapText:g,maps:b,type:"insert",property:"innerHTML",
local:a,localAttr:"textContent",node:c})),g[l]=b[b.length-1];else if(m.match(ha)){if(1!==g.length){console.error("ERR: loop binds can not include adjacent content,",k,"in",c);break a}m=new r({local_id:n,node_id:e,mapIndex:b.length,mapTextIndex:0,text:m,mapText:g,maps:b,type:"loop",property:"innerHTML",listener:"html",local:a,localAttr:"textContent",node:c,isFor:!0,forId:w()});b.push(m);g[l]=m;t.localmaps=m}else m.match(v)&&(m=new r({local_id:n,node_id:e,mapIndex:b.length,mapTextIndex:l,text:m,mapText:g,
maps:b,type:"standard",property:"innerHTML",listener:"html",local:a,localAttr:"textContent",node:c}),b.push(m),g[l]=m,t.localmaps=m)}}}break;default:if(a.setAttribute("component-id",f),a.setAttribute("node-id",w()),"KALEOREPLACENODE__"===a.nodeName)for(c=f,n=E.call(a.attributes),k=[],t=w(),g=0,l=n.length,g;g<l;g++)if(e=n[g].value,d=n[g].name,"__kaleonodebind__"===d)m=B(e),e=m[0],b.push(new r({local_id:c,node_id:t,mapIndex:b.length,mapTextIndex:0,text:e,mapText:m,maps:b,type:"node",property:d,node:a,
nodeMaps:k}));else if("__kaleoattrsbind__"===d)J(a,e,k,c,t,!0);else if("__kaleostylebind__"===d)K(a,e,k,c,t,!0);else{if(e.match(v)){m=B(e);var u=m.length;var y=0;for(y;y<u;y++)e=m[y],e.match(x)?k.push(new r({local_id:c,node_id:t,mapIndex:b.length,mapTextIndex:y,text:e,mapText:m,maps:b,type:"insert",property:d,local:n[g],localAttr:"value",node:a,isAttr:!0})):e.match(v)&&k.push(new r({local_id:c,node_id:t,mapIndex:b.length,mapTextIndex:y,text:e,mapText:m,maps:b,type:"component_standard",property:d,
listener:d,local:n[g],localAttr:"value",node:a,isAttr:!0,isPointer:!0}))}}else if(I(a))for(c=f,n=E.call(a.attributes),k=a.__czosnekExtensions__,t=w(),g=0,l=n.length,g;g<l;g++)if(e=n[g].value,d=n[g].name,"__kaleoattrsbind__"===d)J(a,e,b,c,t);else if("__kaleostylebind__"===d)K(a,e,b,c,t);else{if(e.match(v))for(e=B(e),y=e.length,m=0,m;m<y;m++)u=e[m],u.match(x)?(b.push(new r({local_id:c,node_id:t,mapIndex:b.length,mapTextIndex:m,text:u,mapText:e,maps:b,type:"insert",property:d,local:n[g],localAttr:"value",
node:a,isAttr:!0})),e[m]=b[b.length-1]):u.match(v)&&(u=new r({local_id:c,node_id:t,mapIndex:b.length,mapTextIndex:m,text:u,mapText:e,maps:b,type:"component_standard",property:d,listener:d,local:n[g],localAttr:"value",node:a,isAttr:!0,isPointer:!0}),b.push(u),e[m]=u,k.localmaps=u,k.pointers.push(u),k.innerHTML=a.childNodes)}else for(c=f,n=E.call(a.attributes),k=a.__czosnekExtensions__,t=w(),g=0,l=n.length,g;g<l;g++){var q=n[g].value;d=n[g].name;if("__kaleoattrsbind__"===d)J(a,q,b,c,t,!0);else if("__kaleostylebind__"===
d)K(a,q,b,c,t,!0);else if(q.match(v))if(e=B(q),y=e.length,m=0,u=D.indexOf(d),-1===u)for(m;m<y;m++)q=e[m],q.match(x)?(b.push(new r({local_id:c,node_id:t,mapIndex:b.length,mapTextIndex:m,text:q,mapText:e,maps:b,type:"insert",property:d,local:n[g],localAttr:"value",node:a,isAttr:!0})),e[m]=b[b.length-1]):q.match(v)&&(u=new r({local_id:c,node_id:t,mapIndex:b.length,mapTextIndex:m,text:q,mapText:e,maps:b,type:"standard",property:d,listener:d,local:n[g],localAttr:"value",node:a,isAttr:!0}),b.push(u),e[m]=
u,k.localmaps=u);else 1===y?(q=e[0],q.match(x)&&(b.push(new r({local_id:c,node_id:t,mapIndex:b.length,mapTextIndex:m,text:q,mapText:e,maps:b,type:"event",property:D[u],local:a,localAttr:D[u],node:a,isEvent:!0})),e[m]=b[b.length-1]),q.match(v)&&(u=new r({local_id:c,node_id:t,mapIndex:b.length,mapTextIndex:m,text:q,mapText:e,maps:b,type:"event",property:D[u],listener:D[u],local:a,localAttr:D[u],node:a,isEvent:!0}),b.push(u),e[m]=u,k.localmaps=u)):console.error(a,q,Error("You can only have a single bind in events"))}}if(a.childNodes)for(c=
0,n=a.childNodes.length,c;c<n;c++)P(a.childNodes[c],a,b,f),n=a.childNodes.length;return b}function R(a,c,b){var f=document.createElement("style");f.type="text/css";f.setAttribute("component",a);f.textContent=c;b&&f.setAttribute("component-id",b);document.head.appendChild(f);return f}function O(a,c,b,f){if(a.textContent.match(v)){var n=a.__czosnekExtensions__,k=B(a.textContent),h=[],g=0,l=k.length;for(g;g<l;g++){var d=k[g];h[g]=d;if(d.match(ia))h[g]='[component-id\x3d"'+b+'"]',k[g]=h[g];else if(d.match(x))if(d=
new r({local_id:b,node_id:f,mapIndex:c.length,mapTextIndex:g,text:d,mapText:k,maps:c,type:"insert",property:"innerHTML",local:a,localAttr:"textContent",node:a,isStyle:!0}),e)e.values.push(d);else if(!e&&k[g+1]&&0===k[g+1].indexOf(":")){c.push(d);k[g]=d;var e=k[g]}else c.push(d),k[g]=d;else if(d.match(v))d=new r({local_id:b,node_id:f,mapIndex:c.length,mapTextIndex:g,text:d,mapText:k,maps:c,type:"stylesheet",property:"innerHTML",listener:"html",local:a,localAttr:"textContent",node:a,isStyle:!0}),e?
e.values.push(d):(!e&&k[g+1]&&0===k[g+1].indexOf(":")?(c.push(d),k[g]=d,e=k[g]):(c.push(d),k[g]=d),n.localmaps=d);else if(e){var m=-1!==d.indexOf(";");";"!==d[0]&&d.replace(ja,"")&&(m&&-1!==d.indexOf(":")?e.values.push(d.match(S)[0].replace(S,"$3")):m?e.values.push(d.match(T)[0].replace(T,"$3")):e.values.push(d));e=m?void 0:e}}a.textContent=h.join("")}}function J(a,c,b,f,n,k){c=c.match(U);var h=c.length,g=0;for(g;g<h;g++){var l=c[g].split(":");var d=l[0];l=l[1];if(d.match(x)){var e=new r({local_id:f,
node_id:n,mapIndex:b.length,mapTextIndex:0,text:d,maps:b,mapText:[d],type:"insert",property:d,node:a,isAttr:!0,isPointer:k});e.mapText=[e];b.push(e)}else d.match(v)&&(e=new r({local_id:f,node_id:n,mapIndex:b.length,mapTextIndex:0,text:d,maps:b,mapText:[d],type:"attr",property:d,node:a,isAttr:!0,isPointer:k}),e.mapText=[e],b.push(e));l=B(l);var m=l.length;var p=0;for(p;p<m;p++){var q=l[p];q=q.match(x)?new r({local_id:f,node_id:n,mapIndex:b.length,mapTextIndex:p,text:q,mapText:l,maps:b,type:"insert",
property:d,listener:d,node:a,isAttr:!0,isPointer:k}):q.match(v)?new r({local_id:f,node_id:n,mapIndex:b.length,mapTextIndex:p,text:q,mapText:l,maps:b,type:"attr",property:d,listener:d,node:a,isAttr:!0,isPointer:k}):q;l[p]=q}e.values=l}}function K(a,c,b,f,n,k){c=c.match(U)||[c];var h=c.length,g=0;if(1===c.length){var l=c[0];l.match(x)?(l=new r({local_id:f,node_id:n,mapIndex:b.length,mapTextIndex:0,text:l,maps:b,mapText:[l],type:"insert",property:"style",node:a,isInlineStyle:!0,isPointer:k}),l.mapText=
[l],b.push(l)):l.match(v)&&(l=new r({local_id:f,node_id:n,mapIndex:b.length,mapTextIndex:0,text:l,maps:b,mapText:[l],type:"style",property:"style",listener:"style",local:a,localAttr:"style",node:a,isInlineStyle:!0,isPointer:k}),l.mapText=[l],b.push(l))}else for(g;g<h;g++){var d=c[g].split(":");var e=d[0];var m=d[1];e.match(x)?(d=new r({local_id:f,node_id:n,mapIndex:b.length,mapTextIndex:0,text:e,maps:b,mapText:[e],type:"insert",property:e,node:a,isInlineStyle:!0,isPointer:k}),d.mapText=[d],b.push(d)):
e.match(v)?(d=new r({local_id:f,node_id:n,mapIndex:b.length,mapTextIndex:0,text:e,maps:b,mapText:[e],type:"style",property:e,node:a,isInlineStyle:!0,isPointer:k}),d.mapText=[d],b.push(d)):d=void 0;m=B(m);var p=m.length;var q=0;for(q;q<p;q++)l=m[q],l.match(x)?(l=new r({local_id:f,node_id:n,mapIndex:b.length,mapTextIndex:q,text:l,mapText:m,maps:b,node:a,type:"style",property:e,local:a.style,localAttr:e,isInlineStyle:!0,isPointer:k}),d||(l.mapText=m,b.push(l))):l.match(v)&&(l=new r({local_id:f,node_id:n,
mapIndex:b.length,mapTextIndex:q,text:l,mapText:m,maps:b,node:a,type:"style",property:e,listener:e,local:a.style,localAttr:e,isInlineStyle:!0,isPointer:k}),d||(l.mapText=m,b.push(l))),m[q]=l;d&&(d.values=m)}}function F(a){if(!z[a])return console.error("ERR: Component "+a+" does not exist, make sure to create it",Error().stack);this.title=a;this.id=w();this.component=Q(a);var c=this.id;if(z[a]){var b=G[a];var f=document.head.querySelector('style[component\x3d"'+a+'"]')||R(a,b[0]);a=R(a,b[1],c);f=[f,
a]}else f=console.error("ERR: Component "+a+" does not exist, make sure to create it",Error().stack);this.style=f;this.maps=N(this.component,this.style,this.id)}var z={},G={},E=Array.prototype.slice,C=Array.apply(null,Array(256)).map(function(a,c){return(c+256).toString(16).substr(1)}),D=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}).concat("onDOMContentLoaded onDOMAttributeNameChanged onDOMAttrModified onDOMCharacterDataModified onDOMNodeInserted onDOMNodeRemoved onDOMSubtreeModified".split(" ")).map(function(a){return a.toLowerCase()}),
ka=/(<\/.*?>)/g,la=/(<.*?>)/g,V=/({{(?:(?!{{).)*?}}=".*?")/g,ma=/(style=".*?{{.*?}}.*?")/g,v=/(\{\{.*?\}\})/g,da=/(\{\{.*?\}\})/g,Y=/[\s\{\}>]|(\|(.*))/g,ea=/(\{\{(.*?)\|(.*?)\}\})/g,fa=/(.*?)\||[\s\{\}]/g,Z=/(\()(.*?)(\))/g,aa=/[\(\)]/g,ba=/(\[)(.*?)(\])/g,H=/[\[\]~\+\-]/g,ha=/((.*?)for)(.*?)(loop(.*))/g,X=/((.*?)for\s)|(\sloop(.*))/g,ca=/(.*?loop\s)|(\|(.*))|[\s]/g,x=/(\{\{(\s*)>(.*?)(\}\}))/g,na=/(<(?!input|img)(.*?) (.*?)\/>)/g,oa=/[(<\\)>]/g,pa=/(<({{(.*?)}})(.*?)>)/g,qa=/(<\/({{(.*?)}})>)/g,
U=/([\w{}|+\-~].*?:[\w\W{}|+\-~].*?)(?=;)/g,ia=/({{>?local}})/g,W=/(([^}][\s\w\.]+?)?{{>?local}}[\r\n\s\S]*?{(([\r\n\s\W\w]+?)|(.*?))(?:[^}])}(?=[\n\.\r\s]|$))/g,S=/(:(\s+)?(.*?);)/g,T=/((\s+)?(.*?);)/g,ja=/(:\s+)/g;Object.defineProperties(F,{register:p(function(a,c,b){if(void 0===z[a]){c=c.replace(na,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(pa,'\x3ckaleoreplacenode__ __kaleonodebind__\x3d"$2" $4\x3e').replace(qa,"\x3c/kaleoreplacenode__\x3e");var f=c.match(la),n=f.length,k=0;for(k;k<
n;k++){var h=f[k];if(h.match(V)){var g=h.match(V);var l=g.length;var d=0;for(d;d<l;d++){var e=g[d];g[d]=g[d].replace("\x3d",":").replace(/["]/g,"'")+";";f[k]=h.replace(e,"")}f[k]=h.replace("\x3e",'__kaleoattrsbind__\x3d"'+g.join("")+'"\x3e')}h.match(ma)&&(f[k]=h.replace("style\x3d","__kaleostylebind__\x3d"));c=c.replace(h,f[k])}z[a]=c;b=b||"";c=b.match(W)||"";b=b.replace(W,"");G[a]=[b,c&&c.join("\r\n")]}else console.error("ERR: A template by the name %o already exists",name,Error().stack);return this},
!1,!0),unregister:p(function(a){z[a]=void 0;G[a]=void 0;return this},!1,!0),clearRegistry:p(function(){var a=Object.keys(z),c=0,b=a.length;for(c;c<b;c++){var f=a[c];z[f]=void 0;G[f]=void 0}return this},!1,!0),isRegistered:p(function(a){return void 0!==z[a]},!1,!0),getUnknown:p(function(a){if("string"===typeof a){a=a.match(ka);var c=[],b=0,f=a.length;for(b;b<f;b++){var h=a[b].replace(oa,"");(-1!==h.indexOf("-")||document.createElement(h)instanceof HTMLUnknownElement)&&-1===c.indexOf(h)&&void 0===z[h]&&
c.push(h)}return c}return E.call(a.querySelectorAll("*")).filter(I)},!1,!0),isUnknown:p(I,!1,!0),expand:p(Q,!1,!0),map:p(N,!1,!0),destruct:p(function(a){if(!a.maps)return console.error(Error("You can not destruct a map that has already be destructed"));a.maps.splice(a.mapIndex,1);var c=a.maps.length,b=0;for(b;b<c;b++)a.maps[b].mapIndex=b;a.mapText[a.mapTextIndex]="";Object.defineProperties(a,{node:p(null,!0,!0,!1),value:p(null,!0,!0,!1),values:p([],!0,!0,!1),local:p(null,!0,!0,!1),maps:p(null,!0,
!0,!1),nodeMaps:p(null,!0,!0,!1),mapText:p(null,!0,!0,!1),datalistener:p(null,!0,!0,!1),domlistener:p(null,!0,!0,!1),data:p(null,!0,!0,!1)})},!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return F});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=F);return F}();