var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,g,n){d!=Array.prototype&&d!=Object.prototype&&(d[g]=n.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var d=0;return function(g){return $jscomp.SYMBOL_PREFIX+(g||"")+d++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var g=0;return $jscomp.iteratorPrototype(function(){return g<d.length?{done:!1,value:d[g++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.iteratorFromArray=function(d,g){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var n=0,t={next:function(){if(n<d.length){var z=n++;return{value:g(z,d[z]),done:!1}}t.next=function(){return{done:!0,value:void 0}};return t.next()}};t[Symbol.iterator]=function(){return t};return t};
$jscomp.polyfill=function(d,g,n,t){if(g){n=$jscomp.global;d=d.split(".");for(t=0;t<d.length-1;t++){var z=d[t];z in n||(n[z]={});n=n[z]}d=d[d.length-1];t=n[d];g=g(t);g!=t&&null!=g&&$jscomp.defineProperty(n,d,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
window.czosnek=function(){function d(a,b,c){this.root=a;this.pointers=[];this.parent=b;this.maps=c;Object.defineProperties(this,{localmaps:t(b),subnodes:z(b)})}function g(a,b,c,r,e,d,g,f,q,h,m,k,n,p,w,t){this.key=n?c.replace(S,""):c.replace(K,"");this.type="innerHTML"===this.key?"insert":e;this.text=c;this.mapText=r;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();e=L(c);"string"===typeof e&&(e=L(e));var l={filters:[],vmFilters:[],model:[],local:[],session:[]},v=0,
x=e.length;for(v;v<x;v++){var u=e[v];u.match(T)?l.vmFilters.push(u.replace(U,"")):u.match(V)?(-1!==u.indexOf("~")&&l.model.push(u.replace(G,"")),-1!==u.indexOf("+")&&l.local.push(u.replace(G,"")),-1!==u.indexOf("-")&&l.session.push(u.replace(G,""))):l.filters.push(u)}this.filters=l;this.forComponent=n?c.replace(W,""):void 0;this.forId=t;this.isPointer=p;this.isDirty=1!==r.length||"innerHTML"===this.key;this.listener=g;this.property=d;this.local=f;this.localAttr=q;this.node=h;this.maps=m;this.isAttr=
k;this.isFor=n;this.isStyle=w;this.isEvent=!!k&&-1!==B.indexOf(q);this.isInput="INPUT"===h.tagName;this.isRadio=!!this.isInput&&-1!==["radio","checkbox"].indexOf(h.type);w||Object.defineProperties(this,{localId:M("component-id",a,h),nodeId:M("node-id",a+"-"+b,h)})}function n(a,b,c,r){return{value:a,writable:!!b,enumerable:!!r,configurable:!!c}}function t(a){var b=[],c=a&&a.__czosnekExtensions__;return{get:function(){return b},set:function(a){b.push(a);c&&(c.localmaps=a)},enumerable:!0,configurable:!0}}
function z(a){var b=[],c=a&&a.__czosnekExtensions__;return{get:function(){return b},set:function(a){b.push(a);c&&(c.subnodes=a)},enumerable:!0,configurable:!0}}function M(a,b,c){var d=c.attributes;d[a]||c.setAttribute(a,b);return{get:function(){return d[a].value},set:function(b){d[a].value=b},enumerable:!0,configurable:!0}}function L(a){return a.match(X)?a.replace(Y,"").split(","):[]}function H(a){return-1!==a.nodeName.indexOf("-")||a instanceof HTMLUnknownElement}function N(a,b,c){var r=[],e=b[0];
var l=c||u();e.__czosnekExtensions__||Object.defineProperty(e,"__czosnekExtensions__",n(new d(e,parent,r)));var g=e.__czosnekExtensions__.localmaps;if(g&&g.length)for(e=0,l=g.length,e;e<l;e++)r.push(g[e]);else O(e,r,l);b=b[1];g=c||u();b.__czosnekExtensions__||Object.defineProperty(b,"__czosnekExtensions__",n(new d(b,parent,r)));O(b,r,g,u());return I(a,void 0,r,c)}function P(a){var b=document.createElement("div");b.innerHTML=y[a]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';
return 1!==b.children.length?console.error("ERR: Component must be wrapped in a single element,",b.children.length,"nodes in",a,Error().stack):b.children[0]}function u(){var a=(new Uint8Array(8)).map(function(){return Math.floor(99*Math.random()+1)}),b=0;a[6]=a[6]&15|64;a[8]=a[8]&15|128;return[A[a[b++]],A[a[b++]],A[a[b++]],A[a[b++]],A[a[b++]],A[a[b++]],A[a[b++]],A[a[b++]]].join("")}function I(a,b,c,r){r=r||u();Object.defineProperty(a,"__czosnekExtensions__",n(new d(a,b,c)));switch(a.nodeType){case 3:a:{var e=
r;if(a.textContent.match(x)){var l=a.textContent,v=a.__czosnekExtensions__,f=l.split(D).filter(Boolean),q=0,h=f.length,m=u();for(q;q<h;q++){var k=f[q];if(k.match(C))c.push(new g(e,m,k,f,"insert","innerHTML",void 0,a,"textContent",b,c)),f[q]=c[c.length-1];else if(k.match(Z)){if(1!==f.length){console.error("ERR: loop binds can not include adjacent content,",l,"in",b);break a}k=new g(e,m,k,f,"loop","innerHTML","html",a,"textContent",b,c,!1,!0,!1,!1,!1,u());c.push(k);f[q]=k;v.localmaps=k}else k.match(x)&&
(k=new g(e,m,k,f,"standard","innerHTML","html",a,"textContent",b,c),c.push(k),f[q]=k,v.localmaps=k)}}}break;case 8:e=r;if(a.textContent.match(x)&&(q=a.__czosnekExtensions__,l=[a.textContent.replace(aa,"$2")],h=l[0],m=u(),h.match(x))){v=h.replace(K,"");v=new RegExp("(\x3c/{{s?"+v+"(.*?)\x3e)","g");f=[];h=new g(e,m,h,l,"node","innerHTML","html",a,"node",b,c);c.push(h);l[0]=h;q.localmaps=h;for(q=a.nextSibling;!q.textContent.match(v);)h=q.nextSibling,f.push(q),b.removeChild(q),m=document.createElement("div"),
m.appendChild(q),I(m,a,c,e),q=h;b.removeChild(a);b.removeChild(q);l[0].nodeChildren=f}break;default:if(H(a))for(b=r,e=J.call(a.attributes),l=a.__czosnekExtensions__,v=u(),f=0,q=e.length,f;f<q;f++){if(m=e[f].value,m.match(x)){h=e[f].name;m=m.split(D).filter(Boolean);var t=m.length;k=0;for(k;k<t;k++){var p=m[k];p.match(C)?(c.push(new g(b,v,p,m,"insert",h,void 0,e[f],"value",a,c,!0)),m[k]=c[c.length-1]):p.match(x)&&(p=new g(b,v,p,m,"insert",h,h,e[f],"value",a,c,!0),c.push(p),m[k]=p,l.localmaps=p,l.pointers.push(p),
l.innerHTML=a.childNodes)}}}else for(b=r,e=J.call(a.attributes),l=a.__czosnekExtensions__,v=u(),f=0,q=e.length,f;f<q;f++){var w=e[f].value;if(w.match(x))if(h=e[f].name,m=w.split(D).filter(Boolean),t=m.length,k=0,p=B.indexOf(h),-1===p)for(k;k<t;k++)w=m[k],w.match(C)?(c.push(new g(b,v,w,m,"insert",h,void 0,e[f],"value",a,c,!0)),m[k]=c[c.length-1]):w.match(x)&&(p=new g(b,v,w,m,"standard",h,h,e[f],"value",a,c,!0),c.push(p),m[k]=p,l.localmaps=p);else 1===t?(w=m[0],w.match(C)&&(c.push(new g(b,v,w,m,"event",
B[p],void 0,a,B[p],a,c,!0)),m[k]=c[c.length-1]),w.match(x)&&(p=new g(b,v,w,m,"event",B[p],B[p],a,B[p],a,c,!0),c.push(p),m[k]=p,l.localmaps=p)):console.error(a,w,Error("You can only have a single bind in events"))}}if(a.childNodes)for(b=0,e=a.childNodes.length,b;b<e;b++)I(a.childNodes[b],a,c,r),e=a.childNodes.length;return c}function Q(a,b,c){var d=document.createElement("style");d.type="text/css";d.title=a;d.textContent=b;c&&d.setAttribute("component-id",c);document.head.appendChild(d);return d}function O(a,
b,c,d){if(a.textContent.match(x)){var e=a.__czosnekExtensions__,l=a.textContent.split(D).filter(Boolean),r=[],f=0,n=l.length;for(f;f<n;f++){var h=l[f];r[f]=h;h.match(ba)?r[f]='[component-id\x3d"'+c+'"]':h.match(C)?(b.push(new g(c,d,h,l,"insert","html",void 0,a,"textContent",a,b,!1,!1,!1,!0)),l[f]=b[b.length-1]):h.match(x)&&(h=new g(c,d,h,l,"standard","innerHTML","html",a,"textContent",a,b,!1,!1,!1,!0),b.push(h),l[f]=h,e.localmaps=h)}a.textContent=r.join("")}}function E(a){if(!y[a])return console.error("ERR: Component "+
a+" does not exist, make sure to create it",Error().stack);this.title=a;this.id=u();this.component=P(a);var b=this.id;if(y[a]){var c=F[a];var d=document.head.querySelector('style[title\x3d"'+a+'"]')||Q(a,c[0]);a=Q(a,c[1],b);d=[d,a]}else d=console.error("ERR: Component "+a+" does not exist, make sure to create it",Error().stack);this.style=d;this.maps=N(this.component,this.style,this.id)}var y={},F={},J=Array.prototype.slice,A=Array.apply(null,Array(256)).map(function(a,b){return(b+256).toString(16).substr(1)}),
B=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}).concat("onDOMContentLoaded onDOMAttributeNameChanged onDOMAttrModified onDOMCharacterDataModified onDOMNodeInserted onDOMNodeRemoved onDOMSubtreeModified".split(" ")).map(function(a){return a.toLowerCase()}),ca=/(<\/.*?>)/g,x=/(\{\{.*?\}\})/g,D=/(\{\{.*?\}\})/g,K=/[\s\{\}>]|(\|(.*))/g,X=/(\{\{(.*?)\|(.*?)\}\})/g,Y=/(.*?)\||[\s\{\}]/g,T=/(\()(.*?)(\))/g,U=/[\(\)]/g,V=/(\[)(.*?)(\])/g,G=/[\[\]~\+\-]/g,Z=/((.*?)for)(.*?)(loop(.*))/g,
S=/((.*?)for\s)|(\sloop(.*))/g,W=/(.*?loop\s)|(\|(.*))|[\s]/g,C=/(\{\{(\s*)>(.*?)(\}\}))/g,da=/(<(?!input|img)(.*?) (.*?)\/>)/g,ea=/[(<\\)>]/g,fa=/(<\/?\{\{(.*?)>)/g,aa=/(<({{.*?}})(.*))/g,ba=/({{>?local}})/g,R=/((.*?)({{>?local}}[\r\n\s\S]*?{(([\r\n\s\W\w]+?)|(.*?))(?:[^}])}(?=[\n\.\r\s]|$)))/g;Object.defineProperties(E,{register:n(function(a,b,c){void 0===y[a]?(y[a]=b.replace(da,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(fa,"\x3c!--$1--\x3e"),c=c||"",b=c.match(R)||"",c=c.replace(R,
""),F[a]=[c,b&&b.join("\r\n")]):console.error("ERR: A template by the name %o already exists",name,Error().stack);return this},!1,!0),unregister:n(function(a){y[a]=void 0;F[a]=void 0;return this},!1,!0),clearRegistry:n(function(){var a=Object.keys(y),b=0,c=a.length;for(b;b<c;b++){var d=a[b];y[d]=void 0;F[d]=void 0}return this},!1,!0),isRegistered:n(function(a){return void 0!==y[a]},!1,!0),getUnknown:n(function(a){if("string"===typeof a){a=a.match(ca);var b=[],c=0,d=a.length;for(c;c<d;c++){var e=a[c].replace(ea,
"");(-1!==e.indexOf("-")||document.createElement(e)instanceof HTMLUnknownElement)&&-1===b.indexOf(e)&&void 0===y[e]&&b.push(e)}return b}return J.call(a.querySelectorAll("*")).filter(H)},!1,!0),isUnknown:n(H,!1,!0),expand:n(P,!1,!0),map:n(N,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return E});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=E);return E}();