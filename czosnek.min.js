var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,h,k){c!=Array.prototype&&c!=Object.prototype&&(c[h]=k.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var c=0;return function(h){return $jscomp.SYMBOL_PREFIX+(h||"")+c++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var h=0;return $jscomp.iteratorPrototype(function(){return h<c.length?{done:!1,value:c[h++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.iteratorFromArray=function(c,h){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var k=0,m={next:function(){if(k<c.length){var y=k++;return{value:h(y,c[y]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};
$jscomp.polyfill=function(c,h,k,m){if(h){k=$jscomp.global;c=c.split(".");for(m=0;m<c.length-1;m++){var y=c[m];y in k||(k[y]={});k=k[y]}c=c[c.length-1];m=k[c];h=h(m);h!=m&&null!=h&&$jscomp.defineProperty(k,c,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");
window.czosnek=function(){function c(a,b,q){this.root=a;this.parent=b;this.maps=q}function h(a,b,q,e,f,c,d){var g=null!==b.match(Y),h=-1!==Z.indexOf(f);if(g&&1<d.length)return console.error("No spaces or extra content can accompany loop binds "+b);if(h&&1<d.length)return console.error("No spaces or extra content can accompany event binds "+b);this.text=b;this.key=g?b.replace(aa,""):b.replace(ba,"");this.keySplit=this.key.split(".");this.keyLength=this.keySplit.length;this.localKey=this.keySplit.pop();
this.loopId=(this.isLoop=g)?G():void 0;this.loopComponent=g?b.replace(ca,""):void 0;var p=y(b),l={filters:[],vmFilters:[],model:[],local:[],session:[]};"string"===typeof p&&(p=y(p));if(p.length){var k=0,n=p.length;for(k;k<n;k++){var m=p[k];m.match(da)?l.vmFilters.push(m.replace(ea,"")):m.match(fa)?(-1!==m.indexOf("~")&&l.model.push(m.replace(C,"")),-1!==m.indexOf("+")&&l.local.push(m.replace(C,"")),-1!==m.indexOf("-")&&l.session.push(m.replace(C,""))):l.filters.push(m)}}this.filters=l;this.listener=
f;this.property=h?f:c;this.local=h?e:q;this.node=e;this.mapText=d.length?d:[this];this.maps=this.mapText.filter(ha);this.mapIndex=this.maps.length;this.mapTextIndex=this.mapText.indexOf(b);this.submaps=[];this.isEvent=h;this.isRadio=(this.isInput="INPUT"===e.tagName)&&-1!==["radio","checkbox"].indexOf(e.type);this.isInsert=null!==b.match(ia);this.isDirty=1!==this.mapText.length||"innerHTML"===this.key;this.type=g?"LOOP":h?"EVENT":this.isInput?"INPUT":a}function k(a,b,q,e){return{value:a,writable:!!b,
enumerable:!!e,configurable:!!q}}function m(a){return a.split(w).filter(Boolean)}function y(a){return a.match(ja)?a.replace(ka,"").split(","):[]}function H(a,b,q){var e=document.createElement("style");e.setAttribute("type","text/css");e.setAttribute("component",b);e.setAttribute(q?"k-"+q:"global","");e.textContent=a;return e}function B(a){a=a.match(I);var b=[],q=a.length,e=0;for(e;e<q;e++){var f=a[e].replace(I,"$1");(-1!==f.indexOf("-")||document.createElement(f)instanceof HTMLUnknownElement)&&-1===
b.indexOf(f)&&void 0===t[f]&&b.push(f)}return b}function D(a){return-1!==a.nodeName.indexOf("-")||a instanceof HTMLUnknownElement}function la(a,b){var q=[],e=m(a.textContent),f=e.length,g=0;for(g;g<f;g++){var d=e[g];d.match(w)&&(e[g]=new h("TEXT",e[g],a,b,"html","textContent",e),q[q.length]=e[g])}return q}function J(a,b){if(!a.textContent.match(w))return[];var q=[],e=b?"[k-"+b+"]":"[global]",f=m(a.textContent),g=f.length,d=0;b&&(a.textContent=a.textContent.replace(K,e));for(d;d<g;d++){var c=f[d];
var k=0;if(b&&c.match(K))f[d]=e;else if(c.match(w)){var p=f[d-1];c=f[d+1];"string"!==typeof p||"string"!==typeof c||p.match(w)||(k=(p+f[d]+(c.match(ma)||"")).match(na),k=c.match(oa)?1:k&&-1===k[0].indexOf(";")?2:0);switch(k){case 0:if(!l&&c&&0===c.indexOf(":")){f[d]=new h("STYLE_NAME",f[d],a,a,"html","textContent",f);var l=f[d].submaps}else l?(f[d]="",l[l.length]=new h("STYLE_VALUE",f[d],a,a,"html","textContent",l)):f[d]=new h("STYLE",f[d],a,a,"html","textContent",f);break;case 1:f[d]=new h("STYLE_PROPERTY",
f[d],a,a,"html","textContent",f);break;case 2:f[d]=new h("STYLE_FULL",f[d],a,a,"html","textContent",f)}"string"!==typeof f[d]&&(q[q.length]=f[d])}else l&&((k=c.match(pa))?(f[d]=f[d].replace(k[0],""),l[l.length]=k[0].replace(/[:;]/g,"")):(f[d]="",l[l.length]=c),-1!==c.indexOf(";")&&(l=null))}return q}function E(a,b,q,e){var f=[];if(8===b.nodeType)return f;switch(b.nodeType){case 3:if(""===b.textContent)return f;Object.defineProperty(b,"__Czosnek__",k(new c(b,e,la(b,q))));return b.__Czosnek__.maps;
case 11:if(1!==b.childNodes.length)return console.error("Components may only have one root element",a);break;default:b.setAttribute("k-"+q,"");b.setAttribute("component",a);f=[];var g=b.attributes["data-knode"],d=b.attributes["data-kattr"],v=b.attributes["data-kstyle"];g&&(f=[new h("NODE",g.value,b,b,"nodeName","nodeName",[])],b.removeAttribute("data-knode"));if(d){g=f;d=d.value.split(";").filter(Boolean);var x=d.length,p=0;for(p;p<x;p++){var l=d[p].split(":");var r=[];if(1===l.length)r=new h("ATTRIBUTE_FULL",
l[0],b,b,void 0,void 0,r);else{l[1]=l[1].replace(qa,"");r=new h("ATTRIBUTE_NAME",l[0],b,b,void 0,void 0,r);r.submaps=m(l[1]);l=r.submaps;var n=l.length;var t=0;for(t;t<n;t++){var u=l[t];u.match(w)&&(l[t]=new h("ATTRIBUTE_VALUE",u,r,b,void 0,void 0,l))}}g[g.length]=r}b.removeAttribute("data-kattr")}if(v){g=f;v=v.value.split(";").filter(Boolean);d=[];x=v.length;p=0;if(1===x&&-1===v[0].indexOf(":"))d=new h("STYLE_INLINE_FULL",v[0],b.style,b,void 0,void 0,d),g[g.length]=d;else for(p;p<x;p++)if(n=v[p].split(":"),
d=[],1===n.length)d=new h("STYLE_INLINE_PROPERTY",n[0],b.style,b,void 0,void 0,d),g[g.length]=d;else if(n[0].match(w)){d=new h("STYLE_INLINE_NAME",n[0],b.style,b,void 0,void 0,d);d.submaps=m(n[1]);n=d.submaps;l=n.length;u=0;for(u;u<l;u++)r=n[u],r.match(w)&&(n[u]=new h("STYLE_INLINE_VALUE",r,b.style,b,void 0,void 0,n));g[g.length]=d}else for(d=m(n[1]),l=d.length,u=0,u;u<l;u++)r=d[u],r.match(w)&&(d[u]=new h("STYLE_INLINE_VALUE",r,b.style,b,n[0],n[0],d),g[g.length]=d[u]);b.removeAttribute("data-kstyle")}v=
b.attributes;g=f;d=D(b);p=v.length;l=0;for(l;l<p;l++)if(x=v[l],x.value.match(w))for(r=m(x.value),u=r.length,n=0,n;n<u;n++)r[n].match(w)&&(r[n]=new h(d?"POINTER":"ATTRIBUTE",r[n],x,b,x.name,"value",r),g[g.length]=r[n],r[n].isEvent&&(b.removeAttribute(x.name),v=b.attributes,p=v.length));Object.defineProperty(b,"__Czosnek__",k(new c(b,e,f)))}if(b.childNodes.length)for(e=f.push,v=b.childNodes.length,g=0,g;g<v;g++)e.apply(f,E(a,b.childNodes[g],q,11!==b.nodeType?b:void 0,f)),v=b.childNodes.length;return f}
function L(a,b){var c=Object.create(t[a]),e=document.head.querySelector('style[component\x3d"'+a+'"][global]');b=b||_uuid();c.global=e||H(c.global,a);c.local=H(c.local,a,b);e=c.html;var f=document.createElement("div"),g=document.createDocumentFragment();f.innerHTML=e;e=f.children[0];e.setAttribute("root","");e.setAttribute("k-"+b,"");e.setAttribute("component",a);g.appendChild(e);c.html=g;return c}function M(a){a=a||this;var b=document.head.querySelector("[k-"+a.id+"]"),c=document.body.querySelector("[k-"+
a.id+"]");F.splice(F.indexOf(a),1);a.expanded=null;a.maps=null;b&&b.parentElement.removeChild(b);c&&c.parentElement.removeChild(c);0===document.body.querySelectorAll('[component\x3d"'+a.title+'"').length&&(a=document.head.querySelector('[component\x3d"'+a.title+'"'))&&a.parentElement.removeChild(a)}function N(a){O(a,document.querySelectorAll('[component\x3d"'+a+'"]'),P[a]);t[a]=void 0;P[a]=void 0;Q(a,document.querySelectorAll('[component\x3d"'+a+'"]'));return this}function R(a){return void 0!==t[a]}
function G(){var a=new Uint8Array(8),b=a.length,c=0,e=0;for(c;c<b;c++)a[c]=Math.floor(99*Math.random()+1);a[6]=a[6]&15|64;a[8]=a[8]&15|128;return[z[a[e++]],z[a[e++]],z[a[e++]],z[a[e++]],z[a[e++]],z[a[e++]],z[a[e++]],z[a[e++]]].join("")}function ha(a){return a&&a.constructor===h}function A(a){if(!R(a))return console.error("No component registered by the name",a);this.title=a;this.id=S();this.expanded=L(a,this.id);this.unknowns=t[a].unknowns;T(this.expanded);var b=this.expanded,h=this.id,e=b.global;
b=b.local;e.__Czosnek__||Object.defineProperty(e,"__Czosnek__",k(new c(e,document.head,J(e))));Object.defineProperty(b,"__Czosnek__",k(new c(b,document.head,J(b,h))));this.maps=[].concat(e.__Czosnek__.maps).concat(b.__Czosnek__.maps).concat(E(a,this.expanded.html,this.id));U(this.maps);F.push(this)}var t={},z=Array.apply(null,Array(256)).map(function(a,b){return(b+256).toString(16).substr(1)}),Z=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}).concat("onDOMContentLoaded onDOMAttributeNameChanged onDOMAttrModified onDOMCharacterDataModified onDOMNodeInserted onDOMNodeRemoved onDOMSubtreeModified".split(" ")).map(function(a){return a.toLowerCase()}),
F=[],P={},S=G,V=function(){},W=function(){},O=function(){},Q=function(){},T=function(){},U=function(){},I=/<\/(.*?)>/g,ra=/(<.*?([^{]>))/g,sa=/({{(?:(?!{{).)*?}}=["'].*?["'])|({{(?:(?!{{).)*?}}(?!.*?[="]))/g,ta=/(style=["'].*?{{.*?}}.*?["'])/g,ua=/(<(?!input|img)(.*?) (.*?)\/>)/g,va=/(<({{(.*?)}})(.*?)>)/g,wa=/(<\/({{(.*?)}})>)/g,na=/(({([\s\r\n\t]+)?{{.[^}]*?}}([\s\r\n\t]+)?})([\s\r\n\t]+)?)$/g,K=/({{>?local}})/g,X=/(([^};][\s\w\.]+?)?{{>?local}}(([\r\n\s\S]*?{(([\r\n\s\W\w]+?)|(.*?))(?:[^}])}(?=[\n\.\r\s]|$))|(((.[^;\r\n\t\u21b5]*?)({{.[^}]*?}})(\s+)?)$)))/g,
oa=/^((\s+)?;)/g,ma=/^(([\s\r\n\t]+)?})/g,pa=/(^(\s+)?:(\s+)?(.*?);)|(^(\s+)?:([\s\w\W]+)?)|(^([\s\w\W]+)?;)/g,w=/(?!\{\{\{)(?!\}\}\})(\{\{.*?\}\})/g,ba=/[\s\{\}>]|(\|(.*))/g,ja=/(\{\{(.*?)\|(.*?)\}\})/g,ka=/(.*?)\||[\s\{\}]/g,da=/(\()(.*?)(\))/g,ea=/[\(\)]/g,fa=/(\[)(.*?)(\])/g,C=/[\[\]~\+\-]/g,Y=/((.*?)for)(.*?)(loop(.*))/g,aa=/((.*?)for\s)|(\sloop(.*))/g,ca=/(.*?loop\s)|(\|(.*))|[\s]/g,ia=/(\{\{(\s*)>(.*?)(\}\}))/g,qa=/(^['])|([']$)/g;A.prototype.destruct=M;Object.defineProperties(A,{hook:k(function(a,
b){if(b.constructor!==Function)return this;switch(a){case "beforeRegister":V=b;case "afterRegister":W=b;case "beforeUnregister":O=b;case "afterUnregister":Q=b;case "beforeMap":T=b;case "afterMap":U=b;case "uuid":S=b}},!1,!0),map:k(E,!1,!0),register:k(function(a,b,c){V(a,{html:b,style:{local:"",global:c}});if(void 0===t[a]){b=b.replace(ua,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(va,'\x3cknode data-knode\x3d"$2" $4\x3e').replace(wa,"\x3c/knode\x3e");var e=b.match(ra),f=e.length,g=
0,d;for(g;g<f;g++){var h=e[g];if(d=h.match(sa)){var k=d.length;var m=0;for(m;m<k;m++){var l=d[m];d[m]=l.replace("\x3d",":").replace(/["]/g,"'")+";";e[g]=h.replace(l,"")}e[g]=h.replace("\x3e",'data-kattr\x3d"'+d.join("")+'"\x3e')}h.match(ta)&&(e[g]=h.replace("style\x3d","data-kstyle\x3d"));b=b.replace(h,e[g])}t[a]={html:b,local:c&&c.match(X).join("\r\n")||"",global:c&&c.replace(X,"")||""};t[a].unknowns=B(t[a].html);W(a,t[a])}else console.error("ERR: A template by the name %o already exists",name,Error().stack);
return this},!1,!0),unregister:k(N,!1,!0),isRegistered:k(R,!1,!0),clearRegistry:k(function(){var a=Object.keys(t),b=a.length,c=0;for(c;c<b;c++)N(a[c]);return this},!1,!0),getUnknown:k(function(a){if("string"===typeof a)return B(a);if("string"===typeof a)a=B(a);else{var b=B(a.innerHTML);a=D(a)?[a.nodeName.toLowerCase()].concat(b):b}return a},!1,!0),isUnknown:k(function(a){return"string"===typeof a?-1!==a.indexOf("-")||document.createElement(a)instanceof HTMLUnknownElement:D(a)},!1,!0),expand:k(L,!1,
!0),destruct:k(M,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return A});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=A);return A}();