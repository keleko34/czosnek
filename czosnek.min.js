var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,t,e){d!=Array.prototype&&d!=Object.prototype&&(d[t]=e.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var d=0;return function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+d++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var t=0;return $jscomp.iteratorPrototype(function(){return t<d.length?{done:!1,value:d[t++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.iteratorFromArray=function(d,t){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var e=0,q={next:function(){if(e<d.length){var A=e++;return{value:t(A,d[A]),done:!1}}q.next=function(){return{done:!0,value:void 0}};return q.next()}};q[Symbol.iterator]=function(){return q};return q};
$jscomp.polyfill=function(d,t,e,q){if(t){e=$jscomp.global;d=d.split(".");for(q=0;q<d.length-1;q++){var A=d[q];A in e||(e[A]={});e=e[A]}d=d[d.length-1];q=e[d];t=t(q);t!=q&&null!=t&&$jscomp.defineProperty(e,d,{configurable:!0,writable:!0,value:t})}};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d,e){return e})}},"es8","es3");
window.czosnek=function(){function d(a,c,b){this.root=a;this.pointers=[];this.parent=c;this.maps=b;Object.defineProperties(this,{localmaps:q(c),subnodes:A(c)})}function t(a){this.key=a.isFor?a.text.replace(V,""):a.text.replace(W,"");this.type="innerHTML"===this.key?"insert":a.type;this.text=a.text;this.mapText=a.mapText;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();var c=L(this.text);"string"===typeof c&&(c=L(c));var b={filters:[],vmFilters:[],model:[],local:[],
session:[]},k=0,n=c.length;for(k;k<n;k++){var g=c[k];g.match(X)?b.vmFilters.push(g.replace(Y,"")):g.match(Z)?(-1!==g.indexOf("~")&&b.model.push(g.replace(H,"")),-1!==g.indexOf("+")&&b.local.push(g.replace(H,"")),-1!==g.indexOf("-")&&b.session.push(g.replace(H,""))):b.filters.push(g)}this.filters=b;this.forId=a.for_id;this.isPointer=a.isPointer;this.isDirty=1!==this.mapText.length||"innerHTML"===this.key;this.listener=a.listener;this.property=a.property;this.local=a.local;this.localAttr=a.localAttr;
this.node=a.node;this.maps=a.maps;this.nodeMaps=a.nodeMaps;this.mapIndex=a.mapIndex;this.mapTextIndex=a.mapTextIndex;this.isAttr=a.isAttr;this.isFor=a.isFor;this.isStyle=a.isStyle;this.isInlineStyle=a.isInlineStyle;this.isEvent=a.isEvent||!!this.isAttr&&-1!==D.indexOf(this.localAttr);this.isInput="INPUT"===this.node.tagName;this.isRadio=!!this.isInput&&-1!==["radio","checkbox"].indexOf(this.node.type);this.forComponent=this.isFor?this.text.replace(aa,""):void 0;this.values=[];this.isStyle||Object.defineProperties(this,
{localId:M("component-id",a.local_id,this.node),nodeId:M("node-id",a.local_id+"-"+a.node_id,this.node)})}function e(a,c,b,k){return{value:a,writable:!!c,enumerable:!!k,configurable:!!b}}function q(a){var c=[],b=a&&a.__czosnekExtensions__;return{get:function(){return c},set:function(a){c.push(a);b&&(b.localmaps=a)},enumerable:!0,configurable:!0}}function A(a){var c=[],b=a&&a.__czosnekExtensions__;return{get:function(){return c},set:function(a){c.push(a);b&&(b.subnodes=a)},enumerable:!0,configurable:!0}}
function M(a,c,b){var k=b.attributes;k[a]||b.setAttribute(a,c);return{get:function(){return k[a].value},set:function(b){k[a].value=b},enumerable:!0,configurable:!0}}function B(a){return a.split(ba).filter(Boolean)}function L(a){return a.match(ca)?a.replace(da,"").split(","):[]}function I(a){return-1!==a.nodeName.indexOf("-")||a instanceof HTMLUnknownElement}function N(a,c,b){var k=[],n=c[0];var g=b||w();n.__czosnekExtensions__||Object.defineProperty(n,"__czosnekExtensions__",e(new d(n,parent,k)));
var r=n.__czosnekExtensions__.localmaps;if(r&&r.length)for(n=0,g=r.length,n;n<g;n++)k.push(r[n]);else O(n,k,g);c=c[1];r=b||w();c.__czosnekExtensions__||Object.defineProperty(c,"__czosnekExtensions__",e(new d(c,parent,k)));O(c,k,r,w());return P(a,void 0,k,b)}function Q(a){var c=document.createElement("div");c.innerHTML=y[a]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';if(1!==c.children.length)return console.error("ERR: Component must be wrapped in a single element,",c.children.length,
"nodes in",a,Error().stack);c.children[0].setAttribute("root","");c.children[0].title=a;return c.children[0]}function w(){var a=(new Uint8Array(8)).map(function(){return Math.floor(99*Math.random()+1)}),c=0;a[6]=a[6]&15|64;a[8]=a[8]&15|128;return[C[a[c++]],C[a[c++]],C[a[c++]],C[a[c++]],C[a[c++]],C[a[c++]],C[a[c++]],C[a[c++]]].join("")}function P(a,c,b,k){k=k||w();Object.defineProperty(a,"__czosnekExtensions__",e(new d(a,c,b)));switch(a.nodeType){case 3:a:{var n=k;if(a.textContent.match(v)){var g=
a.textContent,r=a.__czosnekExtensions__,p=B(g),h=0,l=p.length,f=w();for(h;h<l;h++){var m=p[h];if(m.match(z))b.push(new t({local_id:n,node_id:n,mapIndex:b.length,mapTextIndex:h,text:m,mapText:p,maps:b,type:"insert",property:"innerHTML",local:a,localAttr:"textContent",node:c})),p[h]=b[b.length-1];else if(m.match(ea)){if(1!==p.length){console.error("ERR: loop binds can not include adjacent content,",g,"in",c);break a}m=new t({local_id:n,node_id:f,mapIndex:b.length,mapTextIndex:0,text:m,mapText:p,maps:b,
type:"loop",property:"innerHTML",listener:"html",local:a,localAttr:"textContent",node:c,isFor:!0,forId:w()});b.push(m);p[h]=m;r.localmaps=m}else m.match(v)&&(m=new t({local_id:n,node_id:f,mapIndex:b.length,mapTextIndex:h,text:m,mapText:p,maps:b,type:"standard",property:"innerHTML",listener:"html",local:a,localAttr:"textContent",node:c}),b.push(m),p[h]=m,r.localmaps=m)}}}break;default:if(a.setAttribute("component-id",k),a.setAttribute("node-id",w()),"KALEOREPLACENODE__"===a.nodeName)for(c=k,n=E.call(a.attributes),
g=[],r=w(),p=0,h=n.length,p;p<h;p++)if(f=n[p].value,l=n[p].name,"__kaleonodebind__"===l)m=B(f),f=m[0],b.push(new t({local_id:c,node_id:r,mapIndex:b.length,mapTextIndex:0,text:f,mapText:m,maps:b,type:"node",property:l,node:a,nodeMaps:g}));else if("__kaleoattrsbind__"===l)J(a,f,g,c,r,!0);else if("__kaleostylebind__"===l)K(a,f,g,c,r,!0);else{if(f.match(v)){m=B(f);var u=m.length;var x=0;for(x;x<u;x++)f=m[x],f.match(z)?g.push(new t({local_id:c,node_id:r,mapIndex:b.length,mapTextIndex:x,text:f,mapText:m,
maps:b,type:"insert",property:l,local:n[p],localAttr:"value",node:a,isAttr:!0})):f.match(v)&&g.push(new t({local_id:c,node_id:r,mapIndex:b.length,mapTextIndex:x,text:f,mapText:m,maps:b,type:"component_standard",property:l,listener:l,local:n[p],localAttr:"value",node:a,isAttr:!0,isPointer:!0}))}}else if(I(a))for(c=k,n=E.call(a.attributes),g=a.__czosnekExtensions__,r=w(),p=0,h=n.length,p;p<h;p++)if(f=n[p].value,l=n[p].name,"__kaleoattrsbind__"===l)J(a,f,b,c,r);else if("__kaleostylebind__"===l)K(a,f,
b,c,r);else{if(f.match(v))for(f=B(f),x=f.length,m=0,m;m<x;m++)u=f[m],u.match(z)?(b.push(new t({local_id:c,node_id:r,mapIndex:b.length,mapTextIndex:m,text:u,mapText:f,maps:b,type:"insert",property:l,local:n[p],localAttr:"value",node:a,isAttr:!0})),f[m]=b[b.length-1]):u.match(v)&&(u=new t({local_id:c,node_id:r,mapIndex:b.length,mapTextIndex:m,text:u,mapText:f,maps:b,type:"component_standard",property:l,listener:l,local:n[p],localAttr:"value",node:a,isAttr:!0,isPointer:!0}),b.push(u),f[m]=u,g.localmaps=
u,g.pointers.push(u),g.innerHTML=a.childNodes)}else for(c=k,n=E.call(a.attributes),g=a.__czosnekExtensions__,r=w(),p=0,h=n.length,p;p<h;p++){var q=n[p].value;l=n[p].name;if("__kaleoattrsbind__"===l)J(a,q,b,c,r,!0);else if("__kaleostylebind__"===l)K(a,q,b,c,r,!0);else if(q.match(v))if(f=B(q),x=f.length,m=0,u=D.indexOf(l),-1===u)for(m;m<x;m++)q=f[m],q.match(z)?(b.push(new t({local_id:c,node_id:r,mapIndex:b.length,mapTextIndex:m,text:q,mapText:f,maps:b,type:"insert",property:l,local:n[p],localAttr:"value",
node:a,isAttr:!0})),f[m]=b[b.length-1]):q.match(v)&&(u=new t({local_id:c,node_id:r,mapIndex:b.length,mapTextIndex:m,text:q,mapText:f,maps:b,type:"standard",property:l,listener:l,local:n[p],localAttr:"value",node:a,isAttr:!0}),b.push(u),f[m]=u,g.localmaps=u);else 1===x?(q=f[0],q.match(z)&&(b.push(new t({local_id:c,node_id:r,mapIndex:b.length,mapTextIndex:m,text:q,mapText:f,maps:b,type:"event",property:D[u],local:a,localAttr:D[u],node:a,isEvent:!0})),f[m]=b[b.length-1]),q.match(v)&&(u=new t({local_id:c,
node_id:r,mapIndex:b.length,mapTextIndex:m,text:q,mapText:f,maps:b,type:"event",property:D[u],listener:D[u],local:a,localAttr:D[u],node:a,isEvent:!0}),b.push(u),f[m]=u,g.localmaps=u)):console.error(a,q,Error("You can only have a single bind in events"))}}if(a.childNodes)for(c=0,n=a.childNodes.length,c;c<n;c++)P(a.childNodes[c],a,b,k),n=a.childNodes.length;return b}function R(a,c,b){var k=document.createElement("style");k.type="text/css";k.setAttribute("component",a);k.textContent=c;b&&k.setAttribute("component-id",
b);document.head.appendChild(k);return k}function O(a,c,b,k){if(a.textContent.match(v)){var n=a.__czosnekExtensions__,g,r=B(a.textContent),p=[],h=0,l=r.length;for(h;h<l;h++){var f=r[h];p[h]=f;if(f.match(fa))p[h]='[component-id\x3d"'+b+'"]',r[h]=p[h];else if(f.match(z))c.push(new t({local_id:b,node_id:k,mapIndex:c.length,mapTextIndex:h,text:f,mapText:r,maps:c,type:"insert",property:"innerHTML",local:a,localAttr:"textContent",node:a,isStyle:!0})),r[h]=c[c.length-1],g?g.values.push(m):!g&&r[h+1]&&0===
r[h+1].indexOf(":")&&(g=r[h]);else if(f.match(v)){var m=new t({local_id:b,node_id:k,mapIndex:c.length,mapTextIndex:h,text:f,mapText:r,maps:c,type:"stylesheet",property:"innerHTML",listener:"html",local:a,localAttr:"textContent",node:a,isStyle:!0});c.push(m);r[h]=m;n.localmaps=m;g?g.values.push(m):!g&&r[h+1]&&0===r[h+1].indexOf(":")&&(g=r[h])}else if(g){var d=-1!==f.indexOf(";");";"!==f[0]&&g.values.push(f.substring(0,d?f.indexOf(";"):f.length).replace(":","").replace(";",""));g=d?void 0:g}}a.textContent=
p.join("")}}function J(a,c,b,k,n,g){c=c.match(S);var d=c.length,p=0;for(p;p<d;p++){var h=c[p].split(":");var l=h[0];h=h[1];if(l.match(z)){var f=new t({local_id:k,node_id:n,mapIndex:b.length,mapTextIndex:0,text:l,mapText:[l],maps:b,type:"attr_name_insert",property:l,node:a});b.push(f)}else l.match(v)&&(f=new t({local_id:k,node_id:n,mapIndex:b.length,mapTextIndex:0,text:l,mapText:[l],maps:b,type:"attr_name_standard",property:l,node:a,isPointer:g}),b.push(f));h=B(h);var m=h.length;var u=0;for(u;u<m;u++){var e=
h[u];e.match(z)?(e=new t({local_id:k,node_id:n,mapIndex:b.length,mapTextIndex:u,text:e,mapText:h,maps:b,type:"attr_insert",property:l,listener:l,node:a,isAttr:!0,isPointer:g}),b.push(e)):e.match(v)&&(e=new t({local_id:k,node_id:n,mapIndex:b.length,mapTextIndex:u,text:e,mapText:h,maps:b,type:"attr_standard",property:l,listener:l,node:a,isAttr:!0,isPointer:g}),b.push(e));h[u]=e}f.values=h}}function K(a,c,b,k,n,g){c=c.match(S);var d=c.length,p=0;for(p;p<d;p++){var h=c[p].split(":");var l=h[0];h=h[1];
if(l.match(z)){var f=new t({local_id:k,node_id:n,mapIndex:b.length,mapTextIndex:0,text:l,mapText:[l],maps:b,type:"style_name_insert",property:l,node:a,isPointer:g});b.push(f)}else l.match(v)&&(f=new t({local_id:k,node_id:n,mapIndex:b.length,mapTextIndex:0,text:l,mapText:[l],maps:b,type:"style_name_standard",property:l,node:a,isPointer:g}),b.push(f));h=B(h);var m=h.length;var e=0;for(e;e<m;e++){var q=h[e];q.match(z)?(q=new t({local_id:k,node_id:n,mapIndex:b.length,mapTextIndex:e,text:q,mapText:h,maps:b,
node:a,type:"style_insert",property:l,local:a.style,localAttr:l,isInlineStyle:!0,isPointer:g}),b.push(q)):q.match(v)&&(q=new t({local_id:k,node_id:n,mapIndex:b.length,mapTextIndex:e,text:q,mapText:h,maps:b,node:a,type:"style_standard",property:l,listener:l,local:a.style,localAttr:l,isInlineStyle:!0,isPointer:g}),b.push(q));h[e]=q}f&&(f.values=h)}}function F(a){if(!y[a])return console.error("ERR: Component "+a+" does not exist, make sure to create it",Error().stack);this.title=a;this.id=w();this.component=
Q(a);var c=this.id;if(y[a]){var b=G[a];var k=document.head.querySelector('style[component\x3d"'+a+'"]')||R(a,b[0]);a=R(a,b[1],c);k=[k,a]}else k=console.error("ERR: Component "+a+" does not exist, make sure to create it",Error().stack);this.style=k;this.maps=N(this.component,this.style,this.id)}var y={},G={},E=Array.prototype.slice,C=Array.apply(null,Array(256)).map(function(a,c){return(c+256).toString(16).substr(1)}),D=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}).concat("onDOMContentLoaded onDOMAttributeNameChanged onDOMAttrModified onDOMCharacterDataModified onDOMNodeInserted onDOMNodeRemoved onDOMSubtreeModified".split(" ")).map(function(a){return a.toLowerCase()}),
ha=/(<\/.*?>)/g,ia=/(<.*?>)/g,T=/({{(?:(?!{{).)*?}}=".*?")/g,ja=/(style=".*?{{.*?}}.*?")/g,v=/(\{\{.*?\}\})/g,ba=/(\{\{.*?\}\})/g,W=/[\s\{\}>]|(\|(.*))/g,ca=/(\{\{(.*?)\|(.*?)\}\})/g,da=/(.*?)\||[\s\{\}]/g,X=/(\()(.*?)(\))/g,Y=/[\(\)]/g,Z=/(\[)(.*?)(\])/g,H=/[\[\]~\+\-]/g,ea=/((.*?)for)(.*?)(loop(.*))/g,V=/((.*?)for\s)|(\sloop(.*))/g,aa=/(.*?loop\s)|(\|(.*))|[\s]/g,z=/(\{\{(\s*)>(.*?)(\}\}))/g,ka=/(<(?!input|img)(.*?) (.*?)\/>)/g,la=/[(<\\)>]/g,ma=/(<({{(.*?)}})(.*?)>)/g,na=/(<\/({{(.*?)}})>)/g,S=
/([\w{}|+\-~].*?:[\w\W{}|+\-~].*?)(?=;)/g,fa=/({{>?local}})/g,U=/(([^}][\s\w\.]+?)?{{>?local}}[\r\n\s\S]*?{(([\r\n\s\W\w]+?)|(.*?))(?:[^}])}(?=[\n\.\r\s]|$))/g;Object.defineProperties(F,{register:e(function(a,c,b){if(void 0===y[a]){c=c.replace(ka,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(ma,'\x3ckaleoreplacenode__ __kaleonodebind__\x3d"$2" $4\x3e').replace(na,"\x3c/kaleoreplacenode__\x3e");var k=c.match(ia),n=k.length,g=0;for(g;g<n;g++){var d=k[g];if(d.match(T)){var e=d.match(T);
var h=e.length;var l=0;for(l;l<h;l++){var f=e[l];e[l]=e[l].replace("\x3d",":").replace(/["]/g,"'")+";";k[g]=d.replace(f,"")}k[g]=d.replace("\x3e",'__kaleoattrsbind__\x3d"'+e.join("")+'"\x3e')}d.match(ja)&&(k[g]=d.replace("style\x3d","__kaleostylebind__\x3d"));c=c.replace(d,k[g])}y[a]=c;b=b||"";c=b.match(U)||"";b=b.replace(U,"");G[a]=[b,c&&c.join("\r\n")]}else console.error("ERR: A template by the name %o already exists",name,Error().stack);return this},!1,!0),unregister:e(function(a){y[a]=void 0;
G[a]=void 0;return this},!1,!0),clearRegistry:e(function(){var a=Object.keys(y),c=0,b=a.length;for(c;c<b;c++){var d=a[c];y[d]=void 0;G[d]=void 0}return this},!1,!0),isRegistered:e(function(a){return void 0!==y[a]},!1,!0),getUnknown:e(function(a){if("string"===typeof a){a=a.match(ha);var c=[],b=0,d=a.length;for(b;b<d;b++){var e=a[b].replace(la,"");(-1!==e.indexOf("-")||document.createElement(e)instanceof HTMLUnknownElement)&&-1===c.indexOf(e)&&void 0===y[e]&&c.push(e)}return c}return E.call(a.querySelectorAll("*")).filter(I)},
!1,!0),isUnknown:e(I,!1,!0),expand:e(Q,!1,!0),map:e(N,!1,!0),destruct:e(function(a){a.maps.splice(a.mapIndex,1);a.mapText.splice(a.mapIndex,1);Object.defineProperties(a,{node:e(null,!0,!0,!1),value:e(null,!0,!0,!1),values:e([],!0,!0,!1),local:e(null,!0,!0,!1),maps:e(null,!0,!0,!1),nodeMaps:e(null,!0,!0,!1),mapText:e(null,!0,!0,!1),bindListener:e(null,!0,!0,!1),data:e(null,!0,!0,!1)})},!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return F});"object"===typeof module&&
"object"===typeof module.exports&&(module.exports.czosnek=F);return F}();