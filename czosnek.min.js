var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,g,l){d!=Array.prototype&&d!=Object.prototype&&(d[g]=l.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var d=0;return function(g){return $jscomp.SYMBOL_PREFIX+(g||"")+d++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var g=0;return $jscomp.iteratorPrototype(function(){return g<d.length?{done:!1,value:d[g++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.iteratorFromArray=function(d,g){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var l=0,t={next:function(){if(l<d.length){var z=l++;return{value:g(z,d[z]),done:!1}}t.next=function(){return{done:!0,value:void 0}};return t.next()}};t[Symbol.iterator]=function(){return t};return t};
$jscomp.polyfill=function(d,g,l,t){if(g){l=$jscomp.global;d=d.split(".");for(t=0;t<d.length-1;t++){var z=d[t];z in l||(l[z]={});l=l[z]}d=d[d.length-1];t=l[d];g=g(t);g!=t&&null!=g&&$jscomp.defineProperty(l,d,{configurable:!0,writable:!0,value:g})}};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
window.czosnek=function(){function d(a,b,c){this.root=a;this.pointers=[];this.parent=b;this.maps=c;Object.defineProperties(this,{localmaps:t(b),subnodes:z(b)})}function g(a,b,c,d,e,g,r,f,p,h,m,k,l,q,v,t){this.key=l?c.replace(S,""):c.replace(K,"");this.type="innerHTML"===this.key?"insert":e;this.text=c;this.mapText=d;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();e=L(c);"string"===typeof e&&(e=L(e));var w={filters:[],vmFilters:[],model:[],local:[],session:[]},n=0,
x=e.length;for(n;n<x;n++){var u=e[n];u.match(T)?w.vmFilters.push(u.replace(U,"")):u.match(V)?(-1!==u.indexOf("~")&&w.model.push(u.replace(G,"")),-1!==u.indexOf("+")&&w.local.push(u.replace(G,"")),-1!==u.indexOf("-")&&w.session.push(u.replace(G,""))):w.filters.push(u)}this.filters=w;this.forComponent=l?c.replace(W,""):void 0;this.forId=t;this.isPointer=q;this.isDirty=1!==d.length||"innerHTML"===this.key;this.listener=r;this.property=g;this.local=f;this.localAttr=p;this.node=h;this.maps=m;this.isAttr=
k;this.isFor=l;this.isStyle=v;this.isEvent=!!k&&-1!==B.indexOf(p);this.isInput="INPUT"===h.tagName;this.isRadio=!!this.isInput&&-1!==["radio","checkbox"].indexOf(h.type);v||Object.defineProperties(this,{localId:M("component-id",a,h),nodeId:M("node-id",a+"-"+b,h)})}function l(a,b,c,d){return{value:a,writable:!!b,enumerable:!!d,configurable:!!c}}function t(a){var b=[],c=a&&a.__czosnekExtensions__;return{get:function(){return b},set:function(a){b.push(a);c&&(c.localmaps=a)},enumerable:!0,configurable:!0}}
function z(a){var b=[],c=a&&a.__czosnekExtensions__;return{get:function(){return b},set:function(a){b.push(a);c&&(c.subnodes=a)},enumerable:!0,configurable:!0}}function M(a,b,c){var d=c.attributes;d[a]||c.setAttribute(a,b);return{get:function(){return d[a].value},set:function(b){d[a].value=b},enumerable:!0,configurable:!0}}function L(a){return a.match(X)?a.replace(Y,"").split(","):[]}function H(a){return-1!==a.nodeName.indexOf("-")||a instanceof HTMLUnknownElement}function N(a,b,c){var g=[],e=b[0];
var n=c||u();e.__czosnekExtensions__||Object.defineProperty(e,"__czosnekExtensions__",l(new d(e,parent,g)));var r=e.__czosnekExtensions__.localmaps;if(r&&r.length)for(e=0,n=r.length,e;e<n;e++)g.push(r[e]);else O(e,g,n);b=b[1];r=c||u();b.__czosnekExtensions__||Object.defineProperty(b,"__czosnekExtensions__",l(new d(b,parent,g)));O(b,g,r,u());return I(a,void 0,g,c)}function P(a){var b=document.createElement("div");b.innerHTML=y[a]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';
return 1!==b.children.length?console.error("ERR: Component must be wrapped in a single element,",b.children.length,"nodes in",a,Error().stack):b.children[0]}function u(){var a=(new Uint8Array(8)).map(function(){return Math.floor(99*Math.random()+1)}),b=0;a[6]=a[6]&15|64;a[8]=a[8]&15|128;return[A[a[b++]],A[a[b++]],A[a[b++]],A[a[b++]],A[a[b++]],A[a[b++]],A[a[b++]],A[a[b++]]].join("")}function I(a,b,c,w){w=w||u();Object.defineProperty(a,"__czosnekExtensions__",l(new d(a,b,c)));switch(a.nodeType){case 3:a:{var e=
w;if(a.textContent.match(x)){var n=a.textContent,r=a.__czosnekExtensions__,f=n.split(D).filter(Boolean),p=0,h=f.length,m=u();for(p;p<h;p++){var k=f[p];if(k.match(C))c.push(new g(e,m,k,f,"insert","innerHTML",void 0,a,"textContent",b,c)),f[p]=c[c.length-1];else if(k.match(Z)){if(1!==f.length){console.error("ERR: loop binds can not include adjacent content,",n,"in",b);break a}k=new g(e,m,k,f,"loop","innerHTML","html",a,"textContent",b,c,!1,!0,!1,!1,!1,u());c.push(k);f[p]=k;r.localmaps=k}else k.match(x)&&
(k=new g(e,m,k,f,"standard","innerHTML","html",a,"textContent",b,c),c.push(k),f[p]=k,r.localmaps=k)}}}break;case 8:e=w;if(a.textContent.match(x)&&(p=a.__czosnekExtensions__,n=[a.textContent.replace(aa,"$2")],h=n[0],m=u(),h.match(x))){r=h.replace(K,"");r=new RegExp("(\x3c/{{s?"+r+"(.*?)\x3e)","g");f=[];h=new g(e,m,h,n,"node","innerHTML","html",a,"node",b,c);c.push(h);n[0]=h;p.localmaps=h;for(p=a.nextSibling;!p.textContent.match(r);)h=p.nextSibling,f.push(p),b.removeChild(p),m=document.createElement("div"),
m.appendChild(p),I(m,a,c,e),p=h;b.removeChild(a);b.removeChild(p);n[0].nodeChildren=f}break;default:if(H(a))for(b=w,e=J.call(a.attributes),n=a.__czosnekExtensions__,r=u(),f=0,p=e.length,f;f<p;f++){if(m=e[f].value,m.match(x)){h=e[f].name;m=m.split(D).filter(Boolean);var t=m.length;k=0;for(k;k<t;k++){var q=m[k];q.match(C)?(c.push(new g(b,r,q,m,"insert",h,void 0,e[f],"value",a,c,!0)),m[k]=c[c.length-1]):q.match(x)&&(q=new g(b,r,q,m,"insert",h,h,e[f],"value",a,c,!0),c.push(q),m[k]=q,n.localmaps=q,n.pointers.push(q),
n.innerHTML=a.childNodes)}}}else for(b=w,e=J.call(a.attributes),n=a.__czosnekExtensions__,r=u(),f=0,p=e.length,f;f<p;f++){var v=e[f].value;if(v.match(x))if(h=e[f].name,m=v.split(D).filter(Boolean),t=m.length,k=0,q=B.indexOf(h),-1===q)for(k;k<t;k++)v=m[k],v.match(C)?(c.push(new g(b,r,v,m,"insert",h,void 0,e[f],"value",a,c,!0)),m[k]=c[c.length-1]):v.match(x)&&(q=new g(b,r,v,m,"standard",h,h,e[f],"value",a,c,!0),c.push(q),m[k]=q,n.localmaps=q);else 1===t?(v=m[0],v.match(C)&&(c.push(new g(b,r,v,m,"event",
B[q],void 0,a,B[q],a,c,!0)),m[k]=c[c.length-1]),v.match(x)&&(q=new g(b,r,v,m,"event",B[q],B[q],a,B[q],a,c,!0),c.push(q),m[k]=q,n.localmaps=q)):console.error(a,v,Error("You can only have a single bind in events"))}}if(a.childNodes)for(b=0,e=a.childNodes.length,b;b<e;b++)I(a.childNodes[b],a,c,w),e=a.childNodes.length;return c}function Q(a,b){var c=document.createElement("style");c.type="text/css";c.title=a;c.textContent=b;document.head.appendChild(c);return c}function O(a,b,c,d){if(a.textContent.match(x)){var e=
a.__czosnekExtensions__,n=a.textContent.split(D).filter(Boolean),l=[],f=0,p=n.length;for(f;f<p;f++){var h=n[f];l[f]=h;h.match(ba)?l[f]='[component-id\x3d"'+c+'"]':h.match(C)?(b.push(new g(c,d,h,n,"insert","html",void 0,a,"textContent",a,b,!1,!1,!1,!0)),n[f]=b[b.length-1]):h.match(x)&&(h=new g(c,d,h,n,"standard","innerHTML","html",a,"textContent",a,b,!1,!1,!1,!0),b.push(h),n[f]=h,e.localmaps=h)}a.textContent=l.join("")}}function E(a){if(!y[a])return console.error("ERR: Component "+a+" does not exist, make sure to create it",
Error().stack);this.title=a;this.id=u();this.component=P(a);var b=this.id;if(y[a]){var c=F[a];a=document.head.querySelector('style[title\x3d"'+a+'"]')||Q(a,c[0]);b=Q(b,c[1]);b=[a,b]}else b=console.error("ERR: Component "+a+" does not exist, make sure to create it",Error().stack);this.style=b;this.maps=N(this.component,this.style,this.id)}var y={},F={},J=Array.prototype.slice,A=Array.apply(null,Array(256)).map(function(a,b){return(b+256).toString(16).substr(1)}),B=Object.keys(HTMLElement.prototype).filter(function(a){return 0===
a.indexOf("on")}).concat("onDOMContentLoaded onDOMAttributeNameChanged onDOMAttrModified onDOMCharacterDataModified onDOMNodeInserted onDOMNodeRemoved onDOMSubtreeModified".split(" ")).map(function(a){return a.toLowerCase()}),ca=/(<\/.*?>)/g,x=/(\{\{.*?\}\})/g,D=/(\{\{.*?\}\})/g,K=/[\s\{\}>]|(\|(.*))/g,X=/(\{\{(.*?)\|(.*?)\}\})/g,Y=/(.*?)\||[\s\{\}]/g,T=/(\()(.*?)(\))/g,U=/[\(\)]/g,V=/(\[)(.*?)(\])/g,G=/[\[\]~\+\-]/g,Z=/((.*?)for)(.*?)(loop(.*))/g,S=/((.*?)for\s)|(\sloop(.*))/g,W=/(.*?loop\s)|(\|(.*))|[\s]/g,
C=/(\{\{(\s*)>(.*?)(\}\}))/g,da=/(<(?!input|img)(.*?) (.*?)\/>)/g,ea=/[(<\\)>]/g,fa=/(<\/?\{\{(.*?)>)/g,aa=/(<({{.*?}})(.*))/g,ba=/({{>?local}})/g,R=/((.*?)({{>?local}}[\r\n\s\S]*?{(([\r\n\s\W\w]+?)|(.*?))(?:[^}])}(?=[\n\.\r\s]|$)))/g;Object.defineProperties(E,{register:l(function(a,b,c){void 0===y[a]?(y[a]=b.replace(da,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(fa,"\x3c!--$1--\x3e"),c=c||"",b=c.match(R)||"",c=c.replace(R,""),F[a]=[c,b&&b.join("\r\n")]):console.error("ERR: A template by the name %o already exists",
name,Error().stack);return this},!1,!0),unregister:l(function(a){y[a]=void 0;F[a]=void 0;return this},!1,!0),clearRegistry:l(function(){var a=Object.keys(y),b=0,c=a.length;for(b;b<c;b++){var d=a[b];y[d]=void 0;F[d]=void 0}return this},!1,!0),isRegistered:l(function(a){return void 0!==y[a]},!1,!0),getUnknown:l(function(a){if("string"===typeof a){a=a.match(ca);var b=[],c=0,d=a.length;for(c;c<d;c++){var e=a[c].replace(ea,"");(-1!==e.indexOf("-")||document.createElement(e)instanceof HTMLUnknownElement)&&
-1===b.indexOf(e)&&void 0===y[e]&&b.push(e)}return b}return J.call(a.querySelectorAll("*")).filter(H)},!1,!0),isUnknown:l(H,!1,!0),expand:l(P,!1,!0),map:l(N,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return E});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=E);return E}();