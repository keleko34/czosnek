var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var e=0,g={next:function(){if(e<a.length){var u=e++;return{value:b(u,a[u]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};
$jscomp.polyfill=function(a,b,e,g){if(b){e=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var u=a[g];u in e||(e[u]={});e=e[u]}a=a[a.length-1];g=e[a];b=b(g);b!=g&&null!=b&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
window.czosnek=function(){function a(k){this.root=k;this.pointers=[]}function b(k,a,b,e,J,c,q,l,p,r,f,m,t){this.key=m?k.replace(K,""):k.replace(G,"");this.type=b;this.text=k;this.mapText=a;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();b=g(k);"string"===typeof b&&(b=g(b));var h={filters:[],vmFilters:[],model:[],local:[],session:[]},v=0,d=b.length;for(v;v<d;v++){var n=b[v];n.match(L)?h.vmFilters.push(n.replace(M,"")):n.match(N)?(-1!==n.indexOf("~")&&h.model.push(n.replace(C,
"")),-1!==n.indexOf("+")&&h.local.push(n.replace(C,"")),-1!==n.indexOf("-")&&h.session.push(n.replace(C,""))):h.filters.push(n)}this.filters=h;this.forComponent=m?k.replace(O,""):void 0;this.forId=t;this.isPointer=!!r;this.isDirty=1!==a.length;this.listener=J;this.property=e;this.local=c;this.localAttr=q;this.localComponent=r;this.node=l;this.maps=p;this.isEvent=!!f&&-1!==P.indexOf(q);this.isInput="INPUT"===l.tagName;this.isRadio=!!this.isInput&&-1!==["radio","checkbox"].indexOf(l.type)}function e(a,
b,e,g){return{value:a,writable:!!b,enumerable:!!g,configurable:!!e}}function g(a){return a.match(Q)?a.replace(R,"").split(","):[]}function u(a){return a instanceof HTMLUnknownElement||-1!==a.nodeName.indexOf("-")}function D(k,g,B,x){B||(Object.defineProperty(k,"__czosnekExtensions__",e(new a(k),"__czosnekExtensions__",!1,!1)),B=k.__czosnekExtensions__);k=k.childNodes;var v=0,c=k.length;for(v;v<c;v++){var q=k[v];var l=-1!==[3,8].indexOf(q.nodeType)?q.parentElement:q;if(!q.__czosnekExtensions__){Object.defineProperty(q,
"__czosnekExtensions__",e(new a(B.root),"__czosnekExtensions__",!1,!1));a:{c=void 0;var p=q;var r=l,f=g;var m=u(q)?q:x;var t=!1,h=0;switch(p.nodeType){case 3:var w=p.textContent;var d=w.split(H).filter(Boolean);var n=d.length;for(h;h<n;h++)if(l=d[h],l.match(I))t||(f.push([]),c=f[f.length-1],t=!0),c.push(new b(l,d,"insert","innerHTML",void 0,p,"textContent",r,f,m)),d[h]=c[c.length-1];else if(l.match(S)){t||(f.push([]),c=f[f.length-1],t=!0);if(1!==d.length){console.error("ERR: loop binds can not include adjacent content,",
w,"in",r);break a}c.push(new b(l,d,m?"pointers.loop":"loop","innerHTML","html",p,"textContent",r,f,m,void 0,!0));d[h]=c[c.length-1];m&&m.__czosnekExtensions__.pointers.push(c[c.length-1])}else l.match(E)&&(t||(f.push([]),c=f[f.length-1],t=!0),c.push(new b(l,d,"standard","innerHTML","html",p,"textContent",r,f,m)),d[h]=c[c.length-1],m&&m.__czosnekExtensions__.pointers.push(c[c.length-1]));break;case 8:w=p.textContent;d=[w.replace(T,"$2")];l=d[0];if(l.match(E)){t||(f.push([]),c=f[f.length-1]);n=l.replace(G,
"");n=new RegExp("(\x3c/{{s?"+n+"(.*?)\x3e)","g");w=[];c.push(new b(l,d,"node","innerHTML","html",p,"node",r,f,m));m&&m.__czosnekExtensions__.pointers.push(c[c.length-1]);d[h]=c[c.length-1];for(d=p.nextSibling;!d.textContent.match(n);)m=d.nextSibling,w.push(d),r.removeChild(d),h=document.createElement("div"),h.appendChild(d),D(h,f,p.__czosnekExtensions__,l),d=m;r.removeChild(p);r.removeChild(d);c[c.length-1].nodeChildren=w}break;default:var A=F.call(p.attributes),y=0,z=A.length;for(y;y<z;y++)for(w=
A[y].value,p=A[y].name,d=w.split(H).filter(Boolean),n=d.length,h;h<n;h++)l=d[h],l.match(I)?(t||(f.push([]),c=f[f.length-1],t=!0),c.push(new b(l,d,"insert",p,void 0,A[y],"value",r,f,m,!0)),d[h]=c[c.length-1]):l.match(E)&&(t||(f.push([]),c=f[f.length-1],t=!0),c.push(new b(l,d,"standard",p,p,A[y],"value",r,f,m,!0)),d[h]=c[c.length-1],m&&m.__czosnekExtensions__.pointers.push(c[c.length-1]))}}c=k.length;q.childNodes&&q.childNodes.length&&D(q,g,B,u(q)?q:x)}}return g}function z(a){this.name=a.tagName.toLowerCase();
x[this.name]||console.error("ERR: Component "+this.name+" does not exist, make sure to create it",Error().stack);this.template=x[this.name]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';this.node=a;this.params=F.call(this.node.attributes).reduce(function(a,b){return(a[b.name]=b.value)&&a},{});this.node.__czosnekExtensions__&&(this.pointers=this.node.__czosnekExtensions__.pointers);this.innerHTML=this.node.innerHTML;a=document.createElement("div");a.innerHTML=this.template;
if(1!==a.children.length)return console.error("ERR: Component must be wrapped in a single element,",a.children.length,"nodes in",this.name,Error().stack);this.expanded=a.children[0];this.maps=D(this.expanded,[])}var x={},P=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}),F=Array.prototype.slice,U=/(<\/.*?>)/g,E=/(\{\{.*?\}\})/g,H=/(\{\{.*?\}\})/g,G=/[\s\{\}>]|(\|(.*))/g,Q=/(\{\{(.*?)\|(.*?)\}\})/g,R=/(.*?)\||[\s\{\}]/g,L=/(\()(.*?)(\))/g,M=/[\(\)]/g,N=/(\[)(.*?)(\])/g,
C=/[\[\]~\+\-]/g,S=/((.*?)for)(.*?)(loop(.*))/g,K=/((.*?)for\s)|(\sloop(.*))/g,O=/(.*?loop\s)|(\|(.*))|[\s]/g,I=/(\{\{(\s*)>(.*?)(\}\}))/g,V=/(<(?!input|img)(.*?) (.*?)\/>)/g,W=/[(<\\)>]/g,X=/(<\/?\{\{(.*?)>)/g,T=/(<({{.*?}})(.*))/g;Object.defineProperties(z,{register:e(function(a,b){void 0===x[a]?x[a]=b.replace(V,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(X,"\x3c!--$1--\x3e"):console.error("ERR: A template by the name %o already exists",name,Error().stack);return this},!1,!0),isRegistered:e(function(a){return void 0!==
x[a]},!1,!0),getUnknown:e(function(a){if("string"===typeof a){a=a.match(U);var b=[],e=0,g=a.length;for(e;e<g;e++){var k=a[e].replace(W,"");(document.createElement(k)instanceof HTMLUnknownElement||-1!==k.indexOf("-"))&&-1===b.indexOf(k)&&void 0===x[k]&&b.push(k)}return b}return F.call(a.querySelectorAll("*")).filter(u)},!1,!0),isUnknown:e(u,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return z});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=
z);return z}();