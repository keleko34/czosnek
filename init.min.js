var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var d=0,f={next:function(){if(d<a.length){var u=d++;return{value:b(u,a[u]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill=function(a,b,d,f){if(b){d=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var u=a[f];u in d||(d[u]={});d=d[u]}a=a[a.length-1];f=d[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
window.czosnek=function(){function a(g){this.root=g;this.pointers=[]}function b(g,a,b,d,x,t,p,h,q,n,e,m,k){this.key=m?g.replace(H,""):g.replace(E,"");this.type=b;this.text=g;this.mapText=a;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();b=f(g);"string"===typeof b&&(b=f(b));var r={filters:[],vmFilters:[],model:[],local:[],session:[]},c=0,v=b.length;for(c;c<v;c++){var l=b[c];l.match(I)?r.vmFilters.push(l.replace(J,"")):l.match(K)?(-1!==l.indexOf("~")&&r.model.push(l.replace(A,
"")),-1!==l.indexOf("+")&&r.local.push(l.replace(A,"")),-1!==l.indexOf("-")&&r.session.push(l.replace(A,""))):r.filters.push(l)}this.filters=r;this.forComponent=m?g.replace(L,""):void 0;this.forId=k;this.isPointer=!!n;this.isDirty=1!==a.length;this.listener=x;this.property=d;this.local=t;this.localAttr=p;this.localComponent=n;this.node=h;this.maps=q;this.isEvent=!!e&&-1!==M.indexOf(p);this.isInput="INPUT"===h.tagName;this.isRadio=!!this.isInput&&-1!==["radio","checkbox"].indexOf(h.type)}function d(a,
b,d,f){return{value:a,writable:!!b,enumerable:!!f,configurable:!!d}}function f(a){return a.match(N)?a.replace(O,"").split(","):[]}function u(a){return a instanceof HTMLUnknownElement||-1!==a.nodeName.indexOf("-")}function B(g,f,z,w){z||(Object.defineProperty(g,"__czosnekExtensions__",d(new a(g),"__czosnekExtensions__",!1,!1)),z=g.__czosnekExtensions__);g=g.childNodes;var x=0,t=g.length;for(x;x<t;x++){var p=g[x];var h=-1!==[3,8].indexOf(p.nodeType)?p.parentElement:p;if(!p.__czosnekExtensions__){Object.defineProperty(p,
"__czosnekExtensions__",d(new a(z.root),"__czosnekExtensions__",!1,!1));a:{var q;var n=p;t=h;var e=f;var m=u(p)?p:w;var k=0;switch(n.nodeType){case 3:var r=n.textContent;var c=r.split(F).filter(Boolean);var v=c.length;for(k;k<v;k++)if(h=c[k],h.match(G))e.push(new b(h,c,"insert","innerHTML",void 0,n,"textContent",t,e,m)),c[k]=e[e.length-1];else if(h.match(P)){if(1!==c.length){console.error("ERR: loop binds can not include adjacent content,",r,"in",t);break a}e.push(new b(h,c,m?"pointers.loop":"loop",
"innerHTML","html",n,"textContent",t,e,m,void 0,!0));c[k]=e[e.length-1];m&&m.__czosnekExtensions__.pointers.push(c[k])}else h.match(C)&&(e.push(new b(h,c,"standard","innerHTML","html",n,"textContent",t,e,m)),c[k]=e[e.length-1],m&&m.__czosnekExtensions__.pointers.push(c[k]));break;case 8:r=n.textContent;c=[r.replace(Q,"$2")];h=c[0];if(h.match(C)){v=h.replace(E,"");v=new RegExp("(\x3c/{{s?"+v+"(.*?)\x3e)","g");r=[];e.push(new b(h,c,"node","innerHTML","html",n,"node",t,e,m));c[k]=e[e.length-1];m&&m.__czosnekExtensions__.pointers.push(c[k]);
for(q=n.nextSibling;!q.textContent.match(v);){m=q.nextSibling;r.push(q);t.removeChild(q);var l=document.createElement("div");l.appendChild(q);B(l,e,n.__czosnekExtensions__,h);q=m}t.removeChild(n);t.removeChild(q);c[k].nodeChildren=r}break;default:q=D.call(n.attributes);l=0;var y=q.length;for(l;l<y;l++)for(r=q[l].value,n=q[l].name,c=r.split(F).filter(Boolean),v=c.length,k;k<v;k++)h=c[k],h.match(G)?(e.push(new b(h,c,"insert",n,void 0,q[l],"value",t,e,m,!0)),c[k]=e[e.length-1]):h.match(C)&&(e.push(new b(h,
c,"standard",n,n,q[l],"value",t,e,m,!0)),c[k]=e[e.length-1],m&&m.__czosnekExtensions__.pointers.push(c[k]))}}t=g.length;p.childNodes&&p.childNodes.length&&B(p,f,z,u(p)?p:w)}}return f}function y(a){this.name=a.tagName.toLowerCase();w[this.name]||console.error("ERR: Component "+this.name+" does not exist, make sure to create it",Error().stack);this.template=w[this.name]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';this.node=a;this.params=D.call(this.node.attributes).reduce(function(a,
b){return(a[b.name]=b.value)&&a},{});this.node.__czosnekExtensions__&&(this.pointers=this.node.__czosnekExtensions__.pointers);this.innerHTML=this.node.innerHTML;a=document.createElement("div");a.innerHTML=this.template;if(1!==a.children.length)return console.error("ERR: Component must be wrapped in a single element,",a.children.length,"nodes in",this.name,Error().stack);this.expanded=a.children[0];this.maps=B(this.expanded,[])}var w={},M=Object.keys(HTMLElement.prototype).filter(function(a){return 0===
a.indexOf("on")}),D=Array.prototype.slice,R=/(<\/.*?>)/g,C=/(\{\{.*?\}\})/g,F=/(\{\{.*?\}\})/g,E=/[\s\{\}>]|(\|(.*))/g,N=/(\{\{(.*?)\|(.*?)\}\})/g,O=/(.*?)\||[\s\{\}]/g,I=/(\()(.*?)(\))/g,J=/[\(\)]/g,K=/(\[)(.*?)(\])/g,A=/[\[\]~\+\-]/g,P=/((.*?)for)(.*?)(loop(.*))/g,H=/((.*?)for\s)|(\sloop(.*))/g,L=/(.*?loop\s)|(\|(.*))|[\s]/g,G=/(\{\{(\s*)>(.*?)(\}\}))/g,S=/(<(?!input|img)(.*?) (.*?)\/>)/g,T=/[(<\\)>]/g,U=/(<\/?\{\{(.*?)>)/g,Q=/(<({{.*?}})(.*))/g;Object.defineProperties(y,{register:d(function(a,
b){void 0===w[a]?w[a]=b.replace(S,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(U,"\x3c!--$1--\x3e"):console.error("ERR: A template by the name %o already exists",name,Error().stack);return this},!1,!0),isRegistered:d(function(a){return void 0!==w[a]},!1,!0),getUnknown:d(function(a){if("string"===typeof a){a=a.match(R);var b=[],d=0,f=a.length;for(d;d<f;d++){var g=a[d].replace(T,"");(document.createElement(g)instanceof HTMLUnknownElement||-1!==g.indexOf("-"))&&-1===b.indexOf(g)&&void 0===
w[g]&&b.push(g)}return b}return D.call(a.querySelectorAll("*")).filter(u)},!1,!0),isUnknown:d(u,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return y});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=y);return y}();