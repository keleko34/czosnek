var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,l){b!=Array.prototype&&b!=Object.prototype&&(b[f]=l.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var f=0;return $jscomp.iteratorPrototype(function(){return f<b.length?{done:!1,value:b[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,f){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var l=0,m={next:function(){if(l<b.length){var w=l++;return{value:f(w,b[w]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};
$jscomp.polyfill=function(b,f,l,m){if(f){l=$jscomp.global;b=b.split(".");for(m=0;m<b.length-1;m++){var w=b[m];w in l||(l[w]={});l=l[w]}b=b[b.length-1];m=l[b];f=f(m);f!=m&&null!=f&&$jscomp.defineProperty(l,b,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6","es3");
window.czosnek=function(){function b(a,g){this.root=a;this.pointers=[];this.parent=g;Object.defineProperties(this,{localmaps:m(g),subnodes:w(g)})}function f(a,g,c,b,d,f,l,n,p,h,k,e,m){this.key=e?a.replace(H,""):a.replace(D,"");this.type=c;this.text=a;this.mapText=g;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();c=E(a);"string"===typeof c&&(c=E(c));var q={filters:[],vmFilters:[],model:[],local:[],session:[]},r=0,t=c.length;for(r;r<t;r++){var u=c[r];u.match(I)?q.vmFilters.push(u.replace(J,
"")):u.match(K)?(-1!==u.indexOf("~")&&q.model.push(u.replace(z,"")),-1!==u.indexOf("+")&&q.local.push(u.replace(z,"")),-1!==u.indexOf("-")&&q.session.push(u.replace(z,""))):q.filters.push(u)}this.filters=q;this.forComponent=e?a.replace(L,""):void 0;this.forId=m;this.isPointer=!!h;this.isDirty=1!==g.length;this.listener=d;this.property=b;this.local=f;this.localAttr=l;this.localComponent=h;this.node=n;this.maps=p;this.isEvent=!!k&&-1!==M.indexOf(l);this.isInput="INPUT"===n.tagName;this.isRadio=!!this.isInput&&
-1!==["radio","checkbox"].indexOf(n.type)}function l(a,g,b,q){return{value:a,writable:!!g,enumerable:!!q,configurable:!!b}}function m(a){var b=[],c=a&&a.__czosnekExtensions__;return{get:function(){return b},set:function(a){b.push(a);c&&(c.localmaps=a)},enumerable:!0,configurable:!0}}function w(a){var b=[],c=a&&a.__czosnekExtensions__;return{get:function(){return b},set:function(a){b.push(a);c&&(c.subnodes=a)},enumerable:!0,configurable:!0}}function E(a){return a.match(N)?a.replace(O,"").split(","):
[]}function A(a){return a instanceof HTMLUnknownElement||-1!==a.nodeName.indexOf("-")}function B(a,g,c,q){if(!a.__czosnekExtensions__){var d=a.nodeType,m=-1===[8,3].indexOf(d);A(a)&&(q=a);Object.defineProperty(a,"__czosnekExtensions__",l(new b(q,g)));switch(d){case 3:a:if(d=q,a.textContent.match(x)){var r=a.textContent,n=a.__czosnekExtensions__,p=r.split(F).filter(Boolean),h=0,k=p.length;for(h;h<k;h++){var e=p[h];if(e.match(G))c.push(new f(e,p,"insert","innerHTML",void 0,a,"textContent",g,c,d)),p[h]=
c[c.length-1];else if(e.match(P)){if(1!==p.length){console.error("ERR: loop binds can not include adjacent content,",r,"in",g);break a}e=new f(e,p,d?"pointers.loop":"loop","innerHTML","html",a,"textContent",g,c,d,void 0,!0);c.push(e);p[h]=e;n.localmaps=e;d&&d.__czosnekExtensions__.pointers.push(e)}else e.match(x)&&(e=new f(e,p,"standard","innerHTML","html",a,"textContent",g,c,d),c.push(e),p[h]=e,n.localmaps=e,d&&d.__czosnekExtensions__.pointers.push(e))}}break;case 8:d=q;if(a.textContent.match(x)&&
(h=a.__czosnekExtensions__,r=[a.textContent.replace(Q,"$2")],k=r[0],k.match(x))){n=k.replace(D,"");n=new RegExp("(\x3c/{{s?"+n+"(.*?)\x3e)","g");p=[];k=new f(k,r,"node","innerHTML","html",a,"node",g,c,d);c.push(k);r[0]=k;h.localmaps=k;d&&d.__czosnekExtensions__.pointers.push(k);for(h=a.nextSibling;!h.textContent.match(n);)k=h.nextSibling,p.push(h),g.removeChild(h),e=document.createElement("div"),e.appendChild(h),B(e,a,c,d),h=k;g.removeChild(a);g.removeChild(h);r[0].nodeChildren=p}break;default:for(g=
q,d=C.call(a.attributes),r=a.__czosnekExtensions__,n=0,p=d.length,n;n<p;n++)if(k=d[n].value,k.match(x)){h=d[n].name;k=k.split(F).filter(Boolean);var t=k.length;e=0;for(e;e<t;e++){var v=k[e];v.match(G)?(c.push(new f(v,k,"insert",h,void 0,d[n],"value",a,c,g,!0)),k[e]=c[c.length-1]):v.match(x)&&(v=new f(v,k,"standard",h,h,d[n],"value",a,c,g,!0),c.push(v),k[e]=v,r.localmaps=v,g&&g.__czosnekExtensions__.pointers.push(v))}}}if(m)for(m=a.childNodes,g=0,d=m.length,g;g<d;g++)d=m[g],B(d,a,c,q),d=m.length}return c}
function y(a){this.name=a.tagName.toLowerCase();t[this.name]||console.error("ERR: Component "+this.name+" does not exist, make sure to create it",Error().stack);this.template=t[this.name]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';this.node=a;this.params=C.call(this.node.attributes).reduce(function(a,b){return(a[b.name]=b.value)&&a},{});this.node.__czosnekExtensions__&&(this.pointers=this.node.__czosnekExtensions__.pointers);this.innerHTML=this.node.innerHTML;a=document.createElement("div");
a.innerHTML=this.template;if(1!==a.children.length)return console.error("ERR: Component must be wrapped in a single element,",a.children.length,"nodes in",this.name,Error().stack);this.expanded=a.children[0];this.maps=B(this.expanded,void 0,[])}var t={},M=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}),C=Array.prototype.slice,R=/(<\/.*?>)/g,x=/(\{\{.*?\}\})/g,F=/(\{\{.*?\}\})/g,D=/[\s\{\}>]|(\|(.*))/g,N=/(\{\{(.*?)\|(.*?)\}\})/g,O=/(.*?)\||[\s\{\}]/g,I=/(\()(.*?)(\))/g,
J=/[\(\)]/g,K=/(\[)(.*?)(\])/g,z=/[\[\]~\+\-]/g,P=/((.*?)for)(.*?)(loop(.*))/g,H=/((.*?)for\s)|(\sloop(.*))/g,L=/(.*?loop\s)|(\|(.*))|[\s]/g,G=/(\{\{(\s*)>(.*?)(\}\}))/g,S=/(<(?!input|img)(.*?) (.*?)\/>)/g,T=/[(<\\)>]/g,U=/(<\/?\{\{(.*?)>)/g,Q=/(<({{.*?}})(.*))/g;Object.defineProperties(y,{register:l(function(a,b){void 0===t[a]?t[a]=b.replace(S,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(U,"\x3c!--$1--\x3e"):console.error("ERR: A template by the name %o already exists",name,Error().stack);
return this},!1,!0),unregister:l(function(a){t[a]=void 0;return this},!1,!0),clearRegistry:l(function(){var a=Object.keys(t),b=0,c=a.length;for(b;b<c;b++){var f=a[b];t[f]=void 0}return this},!1,!0),isRegistered:l(function(a){return void 0!==t[a]},!1,!0),getUnknown:l(function(a){if("string"===typeof a){a=a.match(R);var b=[],c=0,f=a.length;for(c;c<f;c++){var d=a[c].replace(T,"");(document.createElement(d)instanceof HTMLUnknownElement||-1!==d.indexOf("-"))&&-1===b.indexOf(d)&&void 0===t[d]&&b.push(d)}return b}return C.call(a.querySelectorAll("*")).filter(A)},
!1,!0),isUnknown:l(A,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return y});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=y);return y}();