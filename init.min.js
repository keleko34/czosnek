var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,k,h){d!=Array.prototype&&d!=Object.prototype&&(d[k]=h.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var d=0;return function(k){return $jscomp.SYMBOL_PREFIX+(k||"")+d++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var k=0;return $jscomp.iteratorPrototype(function(){return k<d.length?{done:!1,value:d[k++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.iteratorFromArray=function(d,k){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var h=0,q={next:function(){if(h<d.length){var y=h++;return{value:k(y,d[y]),done:!1}}q.next=function(){return{done:!0,value:void 0}};return q.next()}};q[Symbol.iterator]=function(){return q};return q};
$jscomp.polyfill=function(d,k,h,q){if(k){h=$jscomp.global;d=d.split(".");for(q=0;q<d.length-1;q++){var y=d[q];y in h||(h[y]={});h=h[y]}d=d[d.length-1];q=h[d];k=k(q);k!=q&&null!=k&&$jscomp.defineProperty(h,d,{configurable:!0,writable:!0,value:k})}};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
window.czosnek=function(){function d(a,b,c){this.root=a;this.pointers=[];this.parent=b;this.maps=c;Object.defineProperties(this,{localmaps:q(b),subnodes:y(b)})}function k(a,b,c,d,e,k,r,f,n,g,m,l,h,u,q,w){this.key=h?c.replace(Q,""):c.replace(I,"");this.type=e;this.text=c;this.mapText=d;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();e=J(c);"string"===typeof e&&(e=J(e));var p={filters:[],vmFilters:[],model:[],local:[],session:[]},v=0,x=e.length;for(v;v<x;v++){var t=
e[v];t.match(R)?p.vmFilters.push(t.replace(S,"")):t.match(T)?(-1!==t.indexOf("~")&&p.model.push(t.replace(E,"")),-1!==t.indexOf("+")&&p.local.push(t.replace(E,"")),-1!==t.indexOf("-")&&p.session.push(t.replace(E,""))):p.filters.push(t)}this.filters=p;this.forComponent=h?c.replace(U,""):void 0;this.forId=w;this.isPointer=u;this.isDirty=1!==d.length;this.listener=r;this.property=k;this.local=f;this.localAttr=n;this.node=g;this.maps=m;this.isAttr=l;this.isFor=h;this.isStyle=q;this.isEvent=!!l&&-1!==
V.indexOf(n);this.isInput="INPUT"===g.tagName;this.isRadio=!!this.isInput&&-1!==["radio","checkbox"].indexOf(g.type);q||Object.defineProperties(this,{localId:K("component-id",a,g),nodeId:K("node-id",a+"-"+b,g)})}function h(a,b,c,d){return{value:a,writable:!!b,enumerable:!!d,configurable:!!c}}function q(a){var b=[],c=a&&a.__czosnekExtensions__;return{get:function(){return b},set:function(a){b.push(a);c&&(c.localmaps=a)},enumerable:!0,configurable:!0}}function y(a){var b=[],c=a&&a.__czosnekExtensions__;
return{get:function(){return b},set:function(a){b.push(a);c&&(c.subnodes=a)},enumerable:!0,configurable:!0}}function K(a,b,c){var d=c.attributes;d[a]||c.setAttribute(a,b);return{get:function(){return d[a].value},set:function(b){d[a].value=b},enumerable:!0,configurable:!0}}function J(a){return a.match(W)?a.replace(X,"").split(","):[]}function F(a){return a instanceof HTMLUnknownElement||-1!==a.nodeName.indexOf("-")}function L(a,b,c){var p=[],e=b[0];var k=c||w();e.__czosnekExtensions__||Object.defineProperty(e,
"__czosnekExtensions__",h(new d(e,parent,p)));var r=e.__czosnekExtensions__.localmaps;if(r&&r.length)for(e=0,k=r.length,e;e<k;e++)p.push(r[e]);else M(e,p,k);b=b[1];r=c||w();b.__czosnekExtensions__||Object.defineProperty(b,"__czosnekExtensions__",h(new d(b,parent,p)));M(b,p,r,w());return G(a,void 0,p,c)}function N(a){var b=document.createElement("div");b.innerHTML=x[a]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';return 1!==b.children.length?console.error("ERR: Component must be wrapped in a single element,",
b.children.length,"nodes in",a,Error().stack):b.children[0]}function w(){var a=(new Uint8Array(8)).map(function(){return Math.floor(99*Math.random()+1)}),b=0;a[6]=a[6]&15|64;a[8]=a[8]&15|128;return[z[a[b++]],z[a[b++]],z[a[b++]],z[a[b++]],z[a[b++]],z[a[b++]],z[a[b++]],z[a[b++]]].join("")}function G(a,b,c,p){p=p||w();Object.defineProperty(a,"__czosnekExtensions__",h(new d(a,b,c)));switch(a.nodeType){case 3:a:{var e=p;if(a.textContent.match(t)){var v=a.textContent,r=a.__czosnekExtensions__,f=v.split(A).filter(Boolean),
n=0,g=f.length,m=w();for(n;n<g;n++){var l=f[n];if(l.match(B))c.push(new k(e,m,l,f,"insert","innerHTML",void 0,a,"textContent",b,c)),f[n]=c[c.length-1];else if(l.match(Y)){if(1!==f.length){console.error("ERR: loop binds can not include adjacent content,",v,"in",b);break a}l=new k(e,m,l,f,"loop","innerHTML","html",a,"textContent",b,c,!1,!0,!1,!1,!1,w());c.push(l);f[n]=l;r.localmaps=l}else l.match(t)&&(l=new k(e,m,l,f,"standard","innerHTML","html",a,"textContent",b,c),c.push(l),f[n]=l,r.localmaps=l)}}}break;
case 8:e=p;if(a.textContent.match(t)&&(n=a.__czosnekExtensions__,v=[a.textContent.replace(Z,"$2")],g=v[0],m=w(),g.match(t))){r=g.replace(I,"");r=new RegExp("(\x3c/{{s?"+r+"(.*?)\x3e)","g");f=[];g=new k(e,m,g,v,"node","innerHTML","html",a,"node",b,c);c.push(g);v[0]=g;n.localmaps=g;for(n=a.nextSibling;!n.textContent.match(r);)g=n.nextSibling,f.push(n),b.removeChild(n),m=document.createElement("div"),m.appendChild(n),G(m,a,c,e),n=g;b.removeChild(a);b.removeChild(n);v[0].nodeChildren=f}break;default:if(F(a))for(b=
p,e=H.call(a.attributes),v=a.__czosnekExtensions__,r=w(),f=0,n=e.length,f;f<n;f++){if(m=e[f].value,m.match(t)){g=e[f].name;m=m.split(A).filter(Boolean);var q=m.length;l=0;for(l;l<q;l++){var u=m[l];u.match(B)?(c.push(new k(b,r,u,m,"insert",g,void 0,e[f],"value",a,c,!0)),m[l]=c[c.length-1]):u.match(t)&&(u=new k(b,r,u,m,"insert",g,g,e[f],"value",a,c,!0),c.push(u),m[l]=u,v.localmaps=u,a.__czosnekExtensions__.pointers.push(u))}}}else for(b=p,e=H.call(a.attributes),v=a.__czosnekExtensions__,r=w(),f=0,n=
e.length,f;f<n;f++)if(m=e[f].value,m.match(t))for(g=e[f].name,m=m.split(A).filter(Boolean),q=m.length,l=0,l;l<q;l++)u=m[l],u.match(B)?(c.push(new k(b,r,u,m,"insert",g,void 0,e[f],"value",a,c,!0)),m[l]=c[c.length-1]):u.match(t)&&(u=new k(b,r,u,m,"standard",g,g,e[f],"value",a,c,!0),c.push(u),m[l]=u,v.localmaps=u)}if(a.childNodes)for(b=0,e=a.childNodes.length,b;b<e;b++)G(a.childNodes[b],a,c,p),e=a.childNodes.length;return c}function O(a,b){var c=document.createElement("style");c.type="text/css";c.title=
a;c.textContent=b;document.head.appendChild(c);return c}function M(a,b,c,d){if(a.textContent.match(t)){var e=a.__czosnekExtensions__,h=a.textContent.split(A).filter(Boolean),p=[],f=0,n=h.length;for(f;f<n;f++){var g=h[f];p[f]=g;g.match(aa)?p[f]='[component-id\x3d"'+c+'"]':g.match(B)?(b.push(new k(c,d,g,h,"insert","html",void 0,a,"textContent",a,b,!1,!1,!1,!0)),h[f]=b[b.length-1]):g.match(t)&&(g=new k(c,d,g,h,"standard","innerHTML","html",a,"textContent",a,b,!1,!1,!1,!0),b.push(g),h[f]=g,e.localmaps=
g)}a.textContent=p.join("")}}function C(a){if(!x[a])return console.error("ERR: Component "+a+" does not exist, make sure to create it",Error().stack);this.title=a;this.id=w();this.component=N(a);var b=this.id;if(x[a]){var c=D[a];a=document.head.querySelector('style[title\x3d"'+a+'"]')||O(a,c[0]);b=O(b,c[1]);b=[a,b]}else b=console.error("ERR: Component "+a+" does not exist, make sure to create it",Error().stack);this.style=b;this.maps=L(this.component,this.style,this.id)}var x={},D={},V=Object.keys(HTMLElement.prototype).filter(function(a){return 0===
a.indexOf("on")}),H=Array.prototype.slice,z=Array.apply(null,Array(256)).map(function(a,b){return(b+256).toString(16).substr(1)}),ba=/(<\/.*?>)/g,t=/(\{\{.*?\}\})/g,A=/(\{\{.*?\}\})/g,I=/[\s\{\}>]|(\|(.*))/g,W=/(\{\{(.*?)\|(.*?)\}\})/g,X=/(.*?)\||[\s\{\}]/g,R=/(\()(.*?)(\))/g,S=/[\(\)]/g,T=/(\[)(.*?)(\])/g,E=/[\[\]~\+\-]/g,Y=/((.*?)for)(.*?)(loop(.*))/g,Q=/((.*?)for\s)|(\sloop(.*))/g,U=/(.*?loop\s)|(\|(.*))|[\s]/g,B=/(\{\{(\s*)>(.*?)(\}\}))/g,ca=/(<(?!input|img)(.*?) (.*?)\/>)/g,da=/[(<\\)>]/g,ea=
/(<\/?\{\{(.*?)>)/g,Z=/(<({{.*?}})(.*))/g,aa=/({{>?local}})/g,P=/((.*?)({{>?local}}[\r\n\s\S]*?{(([\r\n\s\W\w]+?)|(.*?))(?:[^}])}(?=[\n\.\r\s]|$)))/g;Object.defineProperties(C,{register:h(function(a,b,c){void 0===x[a]?(x[a]=b.replace(ca,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(ea,"\x3c!--$1--\x3e"),c=c||"",b=c.match(P)||"",c=c.replace(P,""),D[a]=[c,b&&b.join("\r\n")]):console.error("ERR: A template by the name %o already exists",name,Error().stack);return this},!1,!0),unregister:h(function(a){x[a]=
void 0;D[a]=void 0;return this},!1,!0),clearRegistry:h(function(){var a=Object.keys(x),b=0,c=a.length;for(b;b<c;b++){var d=a[b];x[d]=void 0;D[d]=void 0}return this},!1,!0),isRegistered:h(function(a){return void 0!==x[a]},!1,!0),getUnknown:h(function(a){if("string"===typeof a){a=a.match(ba);var b=[],c=0,d=a.length;for(c;c<d;c++){var e=a[c].replace(da,"");(document.createElement(e)instanceof HTMLUnknownElement||-1!==e.indexOf("-"))&&-1===b.indexOf(e)&&void 0===x[e]&&b.push(e)}return b}return H.call(a.querySelectorAll("*")).filter(F)},
!1,!0),isUnknown:h(F,!1,!0),expand:h(N,!1,!0),map:h(L,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return C});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=C);return C}();