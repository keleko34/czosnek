var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,e={next:function(){if(c<a.length){var r=c++;return{value:b(r,a[r]),done:!1}}e.next=function(){return{done:!0,value:void 0}};return e.next()}};e[Symbol.iterator]=function(){return e};return e};
$jscomp.polyfill=function(a,b,c,e){if(b){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var r=a[e];r in c||(c[r]={});c=c[r]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
window.czosnek=function(){function a(a){this.root=a;this.pointers={}}function b(a,b,c,r,y,l,h,g,k,m,q,t){this.key=q?a.replace(I,""):a.replace(E,"");this.text=a;this.mapText=b;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();var f=e(a);"string"===typeof f&&(f=e(f));var n={filters:[],vmFilters:[],model:[],local:[],session:[]},d=0,v=f.length;for(d;d<v;d++){var p=f[d];p.match(J)?n.vmFilters.push(p.replace(K,"")):p.match(L)?(-1!==p.indexOf("~")&&n.model.push(p.replace(B,
"")),-1!==p.indexOf("+")&&n.local.push(p.replace(B,"")),-1!==p.indexOf("-")&&n.session.push(p.replace(B,""))):n.filters.push(p)}this.filters=n;this.forComponent=q?a.replace(M,""):void 0;this.forId=t;this.isDirty=1!==b.length;this.listener=r;this.property=c;this.local=y;this.localAttr=l;this.localComponent=k;this.node=h;this.maps=g;this.isEvent=!!m&&-1!==N.indexOf(l);this.isInput="INPUT"===h.tagName;this.isRadio=!!this.isInput&&-1!==["radio","checkbox"].indexOf(h.type)}function c(a,b,c,e){return{value:a,
writable:!!b,enumerable:!!e,configurable:!!c}}function e(a){return a.match(O)?a.replace(P,"").split(","):[]}function r(a){return a instanceof HTMLUnknownElement||-1!==a.nodeName.indexOf("-")}function C(f,e,A,w){A||(Object.defineProperty(f,"__czosnekExtensions__",c(new a(f),"__czosnekExtensions__",!1,!1)),A=f.__czosnekExtensions__,e={standards:[],inserts:[],loops:[],nodes:[],pointers:{standards:[],loops:[],nodes:[]}});f=f.childNodes;var y=0,l=f.length;for(y;y<l;y++){var h=f[y];var g=-1!==[3,8].indexOf(h.nodeType)?
h.parentElement:h;if(!h.__czosnekExtensions__){Object.defineProperty(h,"__czosnekExtensions__",c(new a(A.root),"__czosnekExtensions__",!1,!1));var k=h;l=g;var m=e;var q=r(h)?h:w;var t=m,u=0;switch(k.nodeType){case 3:var n=k.textContent;var d=n.split(F).filter(Boolean);var v=d.length;for(u;u<v;u++)g=d[u],g.match(G)?m.inserts.push(new b(g,d,"innerHTML",void 0,k,"textContent",l,m,q)):g.match(Q)?(q&&(t=m.pointers),1===d.length?t.loops.push(new b(g,d,"innerHTML","html",k,"textContent",l,m,q,void 0,!0)):
console.error("ERR: loop binds can not include adjacent content,",n,"in",l)):g.match(D)&&(q&&(t=m.pointers),t.standards.push(new b(g,d,"innerHTML","html",k,"textContent",l,m,q)));break;case 8:n=k.textContent;d=[n.replace(R,"$2")];g=d[0];if(g.match(D)){v=g.replace(E,"");v=new RegExp("(\x3c/{{s?"+v+"(.*?)\x3e)","g");n=[];q&&(t=m.pointers);t.nodes.push(new b(g,d,"innerHTML","html",k,"node",l,m,q));for(d=k.nextSibling;!d.textContent.match(v);)q=d.nextSibling,n.push(d),l.removeChild(d),u=document.createElement("div"),
u.appendChild(d),C(u,m,k.__czosnekExtensions__,g),d=q;l.removeChild(k);l.removeChild(d);t.nodes[t.nodes.length-1].nodeChildren=n}break;default:var p=H.call(k.attributes),x=0,z=p.length;for(x;x<z;x++)for(n=p[x].value,k=p[x].name,d=n.split(F).filter(Boolean),v=d.length,u;u<v;u++)g=d[u],g.match(G)?m.inserts.push(new b(g,d,k,void 0,p[x],"value",l,m,q,!0)):g.match(D)&&(q&&(t=m.pointers),t.standards.push(new b(g,d,k,k,p[x],"value",l,m,q,!0)))}l=f.length;h.childNodes&&h.childNodes.length&&C(h,e,A,r(h)?h:
w)}}return e}function z(a){this.name=a.tagName.toLowerCase();w[this.name]||console.error("ERR: Component "+this.name+" does not exist, make sure to create it",Error().stack);this.template=w[this.name]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';this.node=a;this.params=H.call(this.node.attributes).reduce(function(a,b){return(a[b.name]=b.value)&&a},{});this.node.__czosnekExtensions__&&(this.pointers=this.node.__czosnekExtensions__.pointers);this.innerHTML=this.node.innerHTML;
a=document.createElement("div");a.innerHTML=this.template;if(1!==a.children.length)return console.error("ERR: Component must be wrapped in a single element,",a.children.length,"nodes in",this.name,Error().stack);this.expanded=a.children[0];this.maps=C(this.expanded)}var w={},N=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}),H=Array.prototype.slice,S=/(<\/.*?>)/g,D=/(\{\{.*?\}\})/g,F=/(\{\{.*?\}\})/g,E=/[\s\{\}>]|(\|(.*))/g,O=/(\{\{(.*?)\|(.*?)\}\})/g,P=/(.*?)\||[\s\{\}]/g,
J=/(\()(.*?)(\))/g,K=/[\(\)]/g,L=/(\[)(.*?)(\])/g,B=/[\[\]~\+\-]/g,Q=/((.*?)for)(.*?)(loop(.*))/g,I=/((.*?)for\s)|(\sloop(.*))/g,M=/(.*?loop\s)|(\|(.*))|[\s]/g,G=/(\{\{(\s*)>(.*?)(\}\}))/g,T=/(<(?!input|img)(.*?) (.*?)\/>)/g,U=/[(<\\)>]/g,V=/(<\/?\{\{(.*?)>)/g,R=/(<({{.*?}})(.*))/g;Object.defineProperties(z,{register:c(function(a,b){void 0===w[a]?w[a]=b.replace(T,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(V,"\x3c!--$1--\x3e"):console.error("ERR: A template by the name %o already exists",
name,Error().stack);return this},!1,!0),isRegistered:c(function(a){return void 0!==w[a]},!1,!0),getUnknown:c(function(a){a=a.match(S);var b=[],c=0,e=a.length;for(c;c<e;c++){var f=a[c].replace(U,"");(document.createElement(f)instanceof HTMLUnknownElement||-1!==f.indexOf("-"))&&-1===b.indexOf(f)&&void 0===w[f]&&b.push(f)}return b},!1,!0),isUnknown:c(r,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return z});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=
z);return z}();