var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){a!=Array.prototype&&a!=Object.prototype&&(a[b]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var e=0,f={next:function(){if(e<a.length){var u=e++;return{value:b(u,a[u]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill=function(a,b,e,f){if(b){e=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var u=a[f];u in e||(e[u]={});e=e[u]}a=a[a.length-1];f=e[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
window.czosnek=function(){function a(g){this.root=g;this.pointers=[]}function b(g,a,b,e,y,q,n,h,m,l,k,t,r){this.key=t?g.replace(J,""):g.replace(G,"");this.type=b;this.text=g;this.mapText=a;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();b=f(g);"string"===typeof b&&(b=f(b));var p={filters:[],vmFilters:[],model:[],local:[],session:[]},c=0,w=b.length;for(c;c<w;c++){var d=b[c];d.match(K)?p.vmFilters.push(d.replace(L,"")):d.match(M)?(-1!==d.indexOf("~")&&p.model.push(d.replace(C,
"")),-1!==d.indexOf("+")&&p.local.push(d.replace(C,"")),-1!==d.indexOf("-")&&p.session.push(d.replace(C,""))):p.filters.push(d)}this.filters=p;this.forComponent=t?g.replace(N,""):void 0;this.forId=r;this.isDirty=1!==a.length;this.listener=y;this.property=e;this.local=q;this.localAttr=n;this.localComponent=l;this.node=h;this.maps=m;this.isEvent=!!k&&-1!==O.indexOf(n);this.isInput="INPUT"===h.tagName;this.isRadio=!!this.isInput&&-1!==["radio","checkbox"].indexOf(h.type)}function e(a,b,e,f){return{value:a,
writable:!!b,enumerable:!!f,configurable:!!e}}function f(a){return a.match(P)?a.replace(Q,"").split(","):[]}function u(a){return a instanceof HTMLUnknownElement||-1!==a.nodeName.indexOf("-")}function D(g,f,B,v){B||(Object.defineProperty(g,"__czosnekExtensions__",e(new a(g),"__czosnekExtensions__",!1,!1)),B=g.__czosnekExtensions__,f={standards:[],inserts:[],loops:[],nodes:[],pointers:{standards:[],loops:[],nodes:[]}});g=g.childNodes;var y=0,q=g.length;for(y;y<q;y++){var n=g[y];var h=-1!==[3,8].indexOf(n.nodeType)?
n.parentElement:n;if(!n.__czosnekExtensions__){Object.defineProperty(n,"__czosnekExtensions__",e(new a(B.root),"__czosnekExtensions__",!1,!1));var m=n;q=h;var l=f;var k=u(n)?n:v;var t=l,r=0;switch(m.nodeType){case 3:var p=m.textContent;var c=p.split(H).filter(Boolean);var w=c.length;for(r;r<w;r++)if(h=c[r],h.match(I))l.inserts.push(new b(h,c,"insert","innerHTML",void 0,m,"textContent",q,l,k)),c[r]=l.inserts[l.inserts.length-1];else if(h.match(R)){var d=new b(h,c,k?"pointers.loop":"loop","innerHTML",
"html",m,"textContent",q,l,k,void 0,!0);k&&(t=l.pointers,k.__czosnekExtensions__.pointers.push(d));1===c.length?(t.loops.push(d),c[r]=d):console.error("ERR: loop binds can not include adjacent content,",p,"in",q)}else h.match(E)&&(d=new b(h,c,k?"pointers.standard":"standard","innerHTML","html",m,"textContent",q,l,k),k&&(t=l.pointers,k.__czosnekExtensions__.pointers.push(d)),t.standards.push(d),c[r]=d);break;case 8:p=m.textContent;c=[p.replace(S,"$2")];h=c[0];if(h.match(E)){d=h.replace(G,"");w=new RegExp("(\x3c/{{s?"+
d+"(.*?)\x3e)","g");p=[];d=new b(h,c,k?"pointers.node":"node","innerHTML","html",m,"node",q,l,k);k&&(t=l.pointers,k.__czosnekExtensions__.pointers.push(d));t.nodes.push(d);c[0]=d;for(c=m.nextSibling;!c.textContent.match(w);)k=c.nextSibling,p.push(c),q.removeChild(c),d=document.createElement("div"),d.appendChild(c),D(d,l,m.__czosnekExtensions__,h),c=k;q.removeChild(m);q.removeChild(c);t.nodes[t.nodes.length-1].nodeChildren=p}break;default:var A=F.call(m.attributes),x=0,z=A.length;for(x;x<z;x++)for(p=
A[x].value,m=A[x].name,c=p.split(H).filter(Boolean),w=c.length,r;r<w;r++)h=c[r],h.match(I)?(l.inserts.push(new b(h,c,"insert",m,void 0,A[x],"value",q,l,k,!0)),c[r]=l.inserts[l.inserts.length-1]):h.match(E)&&(d=new b(h,c,k?"pointer.standard":"standard",m,m,A[x],"value",q,l,k,!0),k&&(t=l.pointers,k.__czosnekExtensions__.pointers.push(d)),t.standards.push(d),c[r]=d)}q=g.length;n.childNodes&&n.childNodes.length&&D(n,f,B,u(n)?n:v)}}return f}function z(a){this.name=a.tagName.toLowerCase();v[this.name]||
console.error("ERR: Component "+this.name+" does not exist, make sure to create it",Error().stack);this.template=v[this.name]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';this.node=a;this.params=F.call(this.node.attributes).reduce(function(a,b){return(a[b.name]=b.value)&&a},{});this.node.__czosnekExtensions__&&(this.pointers=this.node.__czosnekExtensions__.pointers);this.innerHTML=this.node.innerHTML;a=document.createElement("div");a.innerHTML=this.template;if(1!==a.children.length)return console.error("ERR: Component must be wrapped in a single element,",
a.children.length,"nodes in",this.name,Error().stack);this.expanded=a.children[0];this.maps=D(this.expanded)}var v={},O=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}),F=Array.prototype.slice,T=/(<\/.*?>)/g,E=/(\{\{.*?\}\})/g,H=/(\{\{.*?\}\})/g,G=/[\s\{\}>]|(\|(.*))/g,P=/(\{\{(.*?)\|(.*?)\}\})/g,Q=/(.*?)\||[\s\{\}]/g,K=/(\()(.*?)(\))/g,L=/[\(\)]/g,M=/(\[)(.*?)(\])/g,C=/[\[\]~\+\-]/g,R=/((.*?)for)(.*?)(loop(.*))/g,J=/((.*?)for\s)|(\sloop(.*))/g,N=/(.*?loop\s)|(\|(.*))|[\s]/g,
I=/(\{\{(\s*)>(.*?)(\}\}))/g,U=/(<(?!input|img)(.*?) (.*?)\/>)/g,V=/[(<\\)>]/g,W=/(<\/?\{\{(.*?)>)/g,S=/(<({{.*?}})(.*))/g;Object.defineProperties(z,{register:e(function(a,b){void 0===v[a]?v[a]=b.replace(U,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(W,"\x3c!--$1--\x3e"):console.error("ERR: A template by the name %o already exists",name,Error().stack);return this},!1,!0),isRegistered:e(function(a){return void 0!==v[a]},!1,!0),getUnknown:e(function(a){if("string"===typeof a){a=a.match(T);
var b=[],e=0,f=a.length;for(e;e<f;e++){var g=a[e].replace(V,"");(document.createElement(g)instanceof HTMLUnknownElement||-1!==g.indexOf("-"))&&-1===b.indexOf(g)&&void 0===v[g]&&b.push(g)}return b}return F.call(a.querySelectorAll("*")).filter(u)},!1,!0),isUnknown:e(u,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return z});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=z);return z}();