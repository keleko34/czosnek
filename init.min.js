var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,f={next:function(){if(c<a.length){var t=c++;return{value:b(t,a[t]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill=function(a,b,c,f){if(b){c=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var t=a[f];t in c||(c[t]={});c=c[t]}a=a[a.length-1];f=c[a];b=b(f);b!=f&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
window.czosnek=function(){function a(g){this.root=g;this.pointers=[]}function b(g,a,b,c,y,n,l,h,m,p,k,r){this.key=k?g.replace(J,""):g.replace(G,"");this.text=g;this.mapText=a;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();var u=f(g);"string"===typeof u&&(u=f(u));var q={filters:[],vmFilters:[],model:[],local:[],session:[]},d=0,v=u.length;for(d;d<v;d++){var e=u[d];e.match(K)?q.vmFilters.push(e.replace(L,"")):e.match(M)?(-1!==e.indexOf("~")&&q.model.push(e.replace(C,
"")),-1!==e.indexOf("+")&&q.local.push(e.replace(C,"")),-1!==e.indexOf("-")&&q.session.push(e.replace(C,""))):q.filters.push(e)}this.filters=q;this.forComponent=k?g.replace(N,""):void 0;this.forId=r;this.isDirty=1!==a.length;this.listener=c;this.property=b;this.local=y;this.localAttr=n;this.localComponent=m;this.node=l;this.maps=h;this.isEvent=!!p&&-1!==O.indexOf(n);this.isInput="INPUT"===l.tagName;this.isRadio=!!this.isInput&&-1!==["radio","checkbox"].indexOf(l.type)}function c(a,b,c,f){return{value:a,
writable:!!b,enumerable:!!f,configurable:!!c}}function f(a){return a.match(P)?a.replace(Q,"").split(","):[]}function t(a){return a instanceof HTMLUnknownElement||-1!==a.nodeName.indexOf("-")}function D(g,u,f,w){f||(Object.defineProperty(g,"__czosnekExtensions__",c(new a(g),"__czosnekExtensions__",!1,!1)),f=g.__czosnekExtensions__,u={standards:[],inserts:[],loops:[],nodes:[],pointers:{standards:[],loops:[],nodes:[]}});g=g.childNodes;var y=0,n=g.length;for(y;y<n;y++){var l=g[y];var h=-1!==[3,8].indexOf(l.nodeType)?
l.parentElement:l;if(!l.__czosnekExtensions__){Object.defineProperty(l,"__czosnekExtensions__",c(new a(f.root),"__czosnekExtensions__",!1,!1));var m=l;n=h;var p=u;var k=t(l)?l:w;var r=p,v=0;switch(m.nodeType){case 3:var q=m.textContent;var d=q.split(H).filter(Boolean);var A=d.length;for(v;v<A;v++)if(h=d[v],h.match(I))p.inserts.push(new b(h,d,"innerHTML",void 0,m,"textContent",n,p,k));else if(h.match(R)){var e=new b(h,d,"innerHTML","html",m,"textContent",n,p,k,void 0,!0);k&&(r=p.pointers,k.__czosnekExtensions__.pointers.push(e));
1===d.length?r.loops.push(e):console.error("ERR: loop binds can not include adjacent content,",q,"in",n)}else h.match(E)&&(e=new b(h,d,"innerHTML","html",m,"textContent",n,p,k),k&&(r=p.pointers,k.__czosnekExtensions__.pointers.push(e)),r.standards.push(e));break;case 8:q=m.textContent;d=[q.replace(S,"$2")];h=d[0];if(h.match(E)){e=h.replace(G,"");A=new RegExp("(\x3c/{{s?"+e+"(.*?)\x3e)","g");q=[];e=new b(h,d,"innerHTML","html",m,"node",n,p,k);k&&(r=p.pointers,k.__czosnekExtensions__.pointers.push(e));
r.nodes.push(e);for(d=m.nextSibling;!d.textContent.match(A);)k=d.nextSibling,q.push(d),n.removeChild(d),e=document.createElement("div"),e.appendChild(d),D(e,p,m.__czosnekExtensions__,h),d=k;n.removeChild(m);n.removeChild(d);r.nodes[r.nodes.length-1].nodeChildren=q}break;default:var B=F.call(m.attributes),x=0,z=B.length;for(x;x<z;x++)for(q=B[x].value,m=B[x].name,d=q.split(H).filter(Boolean),A=d.length,v;v<A;v++)h=d[v],h.match(I)?p.inserts.push(new b(h,d,m,void 0,B[x],"value",n,p,k,!0)):h.match(E)&&
(e=new b(h,d,m,m,B[x],"value",n,p,k,!0),k&&(r=p.pointers,k.__czosnekExtensions__.pointers.push(e)),r.standards.push(e))}n=g.length;l.childNodes&&l.childNodes.length&&D(l,u,f,t(l)?l:w)}}return u}function z(a){this.name=a.tagName.toLowerCase();w[this.name]||console.error("ERR: Component "+this.name+" does not exist, make sure to create it",Error().stack);this.template=w[this.name]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';this.node=a;this.params=F.call(this.node.attributes).reduce(function(a,
g){return(a[g.name]=g.value)&&a},{});this.node.__czosnekExtensions__&&(this.pointers=this.node.__czosnekExtensions__.pointers);this.innerHTML=this.node.innerHTML;a=document.createElement("div");a.innerHTML=this.template;if(1!==a.children.length)return console.error("ERR: Component must be wrapped in a single element,",a.children.length,"nodes in",this.name,Error().stack);this.expanded=a.children[0];this.maps=D(this.expanded)}var w={},O=Object.keys(HTMLElement.prototype).filter(function(a){return 0===
a.indexOf("on")}),F=Array.prototype.slice,T=/(<\/.*?>)/g,E=/(\{\{.*?\}\})/g,H=/(\{\{.*?\}\})/g,G=/[\s\{\}>]|(\|(.*))/g,P=/(\{\{(.*?)\|(.*?)\}\})/g,Q=/(.*?)\||[\s\{\}]/g,K=/(\()(.*?)(\))/g,L=/[\(\)]/g,M=/(\[)(.*?)(\])/g,C=/[\[\]~\+\-]/g,R=/((.*?)for)(.*?)(loop(.*))/g,J=/((.*?)for\s)|(\sloop(.*))/g,N=/(.*?loop\s)|(\|(.*))|[\s]/g,I=/(\{\{(\s*)>(.*?)(\}\}))/g,U=/(<(?!input|img)(.*?) (.*?)\/>)/g,V=/[(<\\)>]/g,W=/(<\/?\{\{(.*?)>)/g,S=/(<({{.*?}})(.*))/g;Object.defineProperties(z,{register:c(function(a,
b){void 0===w[a]?w[a]=b.replace(U,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(W,"\x3c!--$1--\x3e"):console.error("ERR: A template by the name %o already exists",name,Error().stack);return this},!1,!0),isRegistered:c(function(a){return void 0!==w[a]},!1,!0),getUnknown:c(function(a){if("string"===typeof a){a=a.match(T);var b=[],c=0,f=a.length;for(c;c<f;c++){var g=a[c].replace(V,"");(document.createElement(g)instanceof HTMLUnknownElement||-1!==g.indexOf("-"))&&-1===b.indexOf(g)&&void 0===
w[g]&&b.push(g)}return b}return F.call(a.querySelectorAll("*")).filter(t)},!1,!0),isUnknown:c(t,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return z});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=z);return z}();