var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,k,l){d!=Array.prototype&&d!=Object.prototype&&(d[k]=l.value)};$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var d=0;return function(k){return $jscomp.SYMBOL_PREFIX+(k||"")+d++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var d=$jscomp.global.Symbol.iterator;d||(d=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[d]&&$jscomp.defineProperty(Array.prototype,d,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(d){var k=0;return $jscomp.iteratorPrototype(function(){return k<d.length?{done:!1,value:d[k++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(d){$jscomp.initSymbolIterator();d={next:d};d[$jscomp.global.Symbol.iterator]=function(){return this};return d};$jscomp.iteratorFromArray=function(d,k){$jscomp.initSymbolIterator();d instanceof String&&(d+="");var l=0,g={next:function(){if(l<d.length){var x=l++;return{value:k(x,d[x]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};
$jscomp.polyfill=function(d,k,l,g){if(k){l=$jscomp.global;d=d.split(".");for(g=0;g<d.length-1;g++){var x=d[g];x in l||(l[x]={});l=l[x]}d=d[d.length-1];g=l[d];k=k(g);k!=g&&null!=k&&$jscomp.defineProperty(l,d,{configurable:!0,writable:!0,value:k})}};$jscomp.polyfill("Array.prototype.keys",function(d){return d?d:function(){return $jscomp.iteratorFromArray(this,function(d){return d})}},"es6","es3");
window.czosnek=function(){function d(a,b,c){this.root=a;this.pointers=[];this.parent=b;this.maps=c;Object.defineProperties(this,{localmaps:g(b),subnodes:x(b)})}function k(a,b,c,d,e,k,P,f,p,h,n,m,l,u,g,w){this.key=l?c.replace(Q,""):c.replace(H,"");this.type="innerHTML"===this.key?"insert":e;this.text=c;this.mapText=d;this.keyLength=this.key.split(".").length;this.localKey=this.key.split(".").pop();e=I(c);"string"===typeof e&&(e=I(e));var q={filters:[],vmFilters:[],model:[],local:[],session:[]},r=0,
v=e.length;for(r;r<v;r++){var t=e[r];t.match(R)?q.vmFilters.push(t.replace(S,"")):t.match(T)?(-1!==t.indexOf("~")&&q.model.push(t.replace(D,"")),-1!==t.indexOf("+")&&q.local.push(t.replace(D,"")),-1!==t.indexOf("-")&&q.session.push(t.replace(D,""))):q.filters.push(t)}this.filters=q;this.forComponent=l?c.replace(U,""):void 0;this.forId=w;this.isPointer=u;this.isDirty=1!==d.length||"innerHTML"===this.key;this.listener=P;this.property=k;this.local=f;this.localAttr=p;this.node=h;this.maps=n;this.isAttr=
m;this.isFor=l;this.isStyle=g;this.isEvent=!!m&&-1!==V.indexOf(p);this.isInput="INPUT"===h.tagName;this.isRadio=!!this.isInput&&-1!==["radio","checkbox"].indexOf(h.type);g||Object.defineProperties(this,{localId:J("component-id",a,h),nodeId:J("node-id",a+"-"+b,h)})}function l(a,b,c,d){return{value:a,writable:!!b,enumerable:!!d,configurable:!!c}}function g(a){var b=[],c=a&&a.__czosnekExtensions__;return{get:function(){return b},set:function(a){b.push(a);c&&(c.localmaps=a)},enumerable:!0,configurable:!0}}
function x(a){var b=[],c=a&&a.__czosnekExtensions__;return{get:function(){return b},set:function(a){b.push(a);c&&(c.subnodes=a)},enumerable:!0,configurable:!0}}function J(a,b,c){var d=c.attributes;d[a]||c.setAttribute(a,b);return{get:function(){return d[a].value},set:function(b){d[a].value=b},enumerable:!0,configurable:!0}}function I(a){return a.match(W)?a.replace(X,"").split(","):[]}function E(a){return-1!==a.nodeName.indexOf("-")||a instanceof HTMLUnknownElement}function K(a,b,c){var q=[],e=b[0];
var r=c||w();e.__czosnekExtensions__||Object.defineProperty(e,"__czosnekExtensions__",l(new d(e,parent,q)));var k=e.__czosnekExtensions__.localmaps;if(k&&k.length)for(e=0,r=k.length,e;e<r;e++)q.push(k[e]);else L(e,q,r);b=b[1];k=c||w();b.__czosnekExtensions__||Object.defineProperty(b,"__czosnekExtensions__",l(new d(b,parent,q)));L(b,q,k,w());return F(a,void 0,q,c)}function M(a){var b=document.createElement("div");b.innerHTML=v[a]||'\x3cdiv class\x3d"missing_component"\x3eUnknown Component\x3c/div\x3e';
return 1!==b.children.length?console.error("ERR: Component must be wrapped in a single element,",b.children.length,"nodes in",a,Error().stack):b.children[0]}function w(){var a=(new Uint8Array(8)).map(function(){return Math.floor(99*Math.random()+1)}),b=0;a[6]=a[6]&15|64;a[8]=a[8]&15|128;return[y[a[b++]],y[a[b++]],y[a[b++]],y[a[b++]],y[a[b++]],y[a[b++]],y[a[b++]],y[a[b++]]].join("")}function F(a,b,c,q){q=q||w();Object.defineProperty(a,"__czosnekExtensions__",l(new d(a,b,c)));switch(a.nodeType){case 3:a:{var e=
q;if(a.textContent.match(t)){var r=a.textContent,g=a.__czosnekExtensions__,f=r.split(z).filter(Boolean),p=0,h=f.length,n=w();for(p;p<h;p++){var m=f[p];if(m.match(A))c.push(new k(e,n,m,f,"insert","innerHTML",void 0,a,"textContent",b,c)),f[p]=c[c.length-1];else if(m.match(Y)){if(1!==f.length){console.error("ERR: loop binds can not include adjacent content,",r,"in",b);break a}m=new k(e,n,m,f,"loop","innerHTML","html",a,"textContent",b,c,!1,!0,!1,!1,!1,w());c.push(m);f[p]=m;g.localmaps=m}else m.match(t)&&
(m=new k(e,n,m,f,"standard","innerHTML","html",a,"textContent",b,c),c.push(m),f[p]=m,g.localmaps=m)}}}break;case 8:e=q;if(a.textContent.match(t)&&(p=a.__czosnekExtensions__,r=[a.textContent.replace(Z,"$2")],h=r[0],n=w(),h.match(t))){g=h.replace(H,"");g=new RegExp("(\x3c/{{s?"+g+"(.*?)\x3e)","g");f=[];h=new k(e,n,h,r,"node","innerHTML","html",a,"node",b,c);c.push(h);r[0]=h;p.localmaps=h;for(p=a.nextSibling;!p.textContent.match(g);)h=p.nextSibling,f.push(p),b.removeChild(p),n=document.createElement("div"),
n.appendChild(p),F(n,a,c,e),p=h;b.removeChild(a);b.removeChild(p);r[0].nodeChildren=f}break;default:if(E(a))for(b=q,e=G.call(a.attributes),r=a.__czosnekExtensions__,g=w(),f=0,p=e.length,f;f<p;f++){if(n=e[f].value,n.match(t)){h=e[f].name;n=n.split(z).filter(Boolean);var v=n.length;m=0;for(m;m<v;m++){var u=n[m];u.match(A)?(c.push(new k(b,g,u,n,"insert",h,void 0,e[f],"value",a,c,!0)),n[m]=c[c.length-1]):u.match(t)&&(u=new k(b,g,u,n,"insert",h,h,e[f],"value",a,c,!0),c.push(u),n[m]=u,r.localmaps=u,r.pointers.push(u),
r.innerHTML=a.childNodes)}}}else for(b=q,e=G.call(a.attributes),r=a.__czosnekExtensions__,g=w(),f=0,p=e.length,f;f<p;f++)if(n=e[f].value,n.match(t))for(h=e[f].name,n=n.split(z).filter(Boolean),v=n.length,m=0,m;m<v;m++)u=n[m],u.match(A)?(c.push(new k(b,g,u,n,"insert",h,void 0,e[f],"value",a,c,!0)),n[m]=c[c.length-1]):u.match(t)&&(u=new k(b,g,u,n,"standard",h,h,e[f],"value",a,c,!0),c.push(u),n[m]=u,r.localmaps=u)}if(a.childNodes)for(b=0,e=a.childNodes.length,b;b<e;b++)F(a.childNodes[b],a,c,q),e=a.childNodes.length;
return c}function N(a,b){var c=document.createElement("style");c.type="text/css";c.title=a;c.textContent=b;document.head.appendChild(c);return c}function L(a,b,c,d){if(a.textContent.match(t)){var e=a.__czosnekExtensions__,g=a.textContent.split(z).filter(Boolean),l=[],f=0,q=g.length;for(f;f<q;f++){var h=g[f];l[f]=h;h.match(aa)?l[f]='[component-id\x3d"'+c+'"]':h.match(A)?(b.push(new k(c,d,h,g,"insert","html",void 0,a,"textContent",a,b,!1,!1,!1,!0)),g[f]=b[b.length-1]):h.match(t)&&(h=new k(c,d,h,g,"standard",
"innerHTML","html",a,"textContent",a,b,!1,!1,!1,!0),b.push(h),g[f]=h,e.localmaps=h)}a.textContent=l.join("")}}function B(a){if(!v[a])return console.error("ERR: Component "+a+" does not exist, make sure to create it",Error().stack);this.title=a;this.id=w();this.component=M(a);var b=this.id;if(v[a]){var c=C[a];a=document.head.querySelector('style[title\x3d"'+a+'"]')||N(a,c[0]);b=N(b,c[1]);b=[a,b]}else b=console.error("ERR: Component "+a+" does not exist, make sure to create it",Error().stack);this.style=
b;this.maps=K(this.component,this.style,this.id)}var v={},C={},V=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}),G=Array.prototype.slice,y=Array.apply(null,Array(256)).map(function(a,b){return(b+256).toString(16).substr(1)}),ba=/(<\/.*?>)/g,t=/(\{\{.*?\}\})/g,z=/(\{\{.*?\}\})/g,H=/[\s\{\}>]|(\|(.*))/g,W=/(\{\{(.*?)\|(.*?)\}\})/g,X=/(.*?)\||[\s\{\}]/g,R=/(\()(.*?)(\))/g,S=/[\(\)]/g,T=/(\[)(.*?)(\])/g,D=/[\[\]~\+\-]/g,Y=/((.*?)for)(.*?)(loop(.*))/g,Q=/((.*?)for\s)|(\sloop(.*))/g,
U=/(.*?loop\s)|(\|(.*))|[\s]/g,A=/(\{\{(\s*)>(.*?)(\}\}))/g,ca=/(<(?!input|img)(.*?) (.*?)\/>)/g,da=/[(<\\)>]/g,ea=/(<\/?\{\{(.*?)>)/g,Z=/(<({{.*?}})(.*))/g,aa=/({{>?local}})/g,O=/((.*?)({{>?local}}[\r\n\s\S]*?{(([\r\n\s\W\w]+?)|(.*?))(?:[^}])}(?=[\n\.\r\s]|$)))/g;Object.defineProperties(B,{register:l(function(a,b,c){void 0===v[a]?(v[a]=b.replace(ca,"\x3c$2 $3\x3e\x3c/$2\x3e").replace(/( >)/g,"\x3e").replace(ea,"\x3c!--$1--\x3e"),c=c||"",b=c.match(O)||"",c=c.replace(O,""),C[a]=[c,b&&b.join("\r\n")]):
console.error("ERR: A template by the name %o already exists",name,Error().stack);return this},!1,!0),unregister:l(function(a){v[a]=void 0;C[a]=void 0;return this},!1,!0),clearRegistry:l(function(){var a=Object.keys(v),b=0,c=a.length;for(b;b<c;b++){var d=a[b];v[d]=void 0;C[d]=void 0}return this},!1,!0),isRegistered:l(function(a){return void 0!==v[a]},!1,!0),getUnknown:l(function(a){if("string"===typeof a){a=a.match(ba);var b=[],c=0,d=a.length;for(c;c<d;c++){var e=a[c].replace(da,"");(-1!==e.indexOf("-")||
document.createElement(e)instanceof HTMLUnknownElement)&&-1===b.indexOf(e)&&void 0===v[e]&&b.push(e)}return b}return G.call(a.querySelectorAll("*")).filter(E)},!1,!0),isUnknown:l(E,!1,!0),expand:l(M,!1,!0),map:l(K,!1,!0)});"function"===typeof define&&define.amd&&define("czosnek",function(){return B});"object"===typeof module&&"object"===typeof module.exports&&(module.exports.czosnek=B);return B}();